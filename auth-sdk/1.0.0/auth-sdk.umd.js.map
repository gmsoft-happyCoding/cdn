{"version":3,"file":"auth-sdk.umd.js","sources":["../src/utils/request.ts","../src/utils/getContainer.ts","../src/components/TopBodyOverflow.tsx","../src/components/Modal.tsx","../src/constants/url.ts","../src/utils/parseUrl.ts","../src/function/login/buildLoginParams.ts","../src/constants/antdPrefix.ts","../src/function/login/popupLoginBox.tsx","../src/utils/compatibilityMe/index.ts","../src/utils/compatibilityMe/getIsAdmin.ts","../src/function/requestMe.ts","../src/function/setGlobalContextMe.ts","../src/function/requestOpBaseUrl.ts","../src/function/login/login.ts","../src/function/login/authorize.ts","../src/function/login/loginBySSO.ts","../src/utils/promise-reflect.ts","../src/utils/flatDeep.ts","../src/function/logout/doLogout.ts","../src/utils/requestByImage.ts","../src/function/logout/index.ts","../src/function/register.ts","../src/function/meSelector.ts","../src/function/requestMeTrySSO.ts","../src/LoginOrRegister/LoginOrRegisterContext.ts","../src/LoginOrRegister/Me/Avatar.tsx","../src/imgs/djc-logo.svg","../src/LoginOrRegister/Me/Logout.tsx","../src/LoginOrRegister/Me/PopoverContent.tsx","../src/LoginOrRegister/Me/Me.tsx","../src/LoginOrRegister/Login.tsx","../src/LoginOrRegister/Register.tsx","../src/hooks/useMe.ts","../src/LoginOrRegister/LoginOrRegister.tsx","../src/interceptor/loginAndRetry.ts","../src/LoginOrRegister/LoginByPageOrRegister.tsx","../src/LoginOrRegister/LoginByPopupOrRegister.tsx","../src/interceptor/angular.ts","../src/interceptor/axios.ts","../src/function/login/buildLoginQueryString.ts","../src/function/login/loginByPage.ts","../src/function/login/loginByPopup.ts"],"sourcesContent":["import axios, { AxiosRequestConfig } from 'axios';\nimport qs from 'qs';\n\nconst request = (url: string, config?: AxiosRequestConfig) =>\n  axios({\n    url,\n    withCredentials: true,\n    headers: { 'X-Requested-With': 'XMLHttpRequest' },\n    paramsSerializer(params) {\n      return qs.stringify(params, { arrayFormat: 'repeat', allowDots: true });\n    },\n    ...config,\n  });\n\nexport default request;\n","/* eslint-disable no-restricted-globals */\n/**\n * 顶层窗口引用挂载节点\n */\nexport const getTopRoot = () => {\n  // try 防止跨域报错\n  try {\n    return (top?.document.querySelector('#mount-root') as HTMLElement) || top.document.body;\n  } catch (error) {\n    return document.body;\n  }\n};\n\nexport function getParent(triggerNode?: Element): HTMLElement {\n  if (triggerNode && triggerNode.parentNode) {\n    // @ts-ignore\n    return triggerNode.parentNode;\n  }\n  // fallback\n  return getTopRoot();\n}\n","/* eslint-disable no-restricted-globals */\nimport React, { useState, useEffect } from 'react';\nimport { createGlobalStyle } from 'styled-components';\n\n/**\n * 用于标记是否需要注入css\n * 避免多次注入(弹出多个drawer的时), css不能被正确清理\n * 导致body滚动条被一直禁用\n */\nexport const TOP_BODY_OVERFLOW_HIDDEN_MARK = 'gmsoft-ui-top-body-need-inject-css';\n\nexport const setBodyOverflowHidden = (val: boolean) => {\n  top[TOP_BODY_OVERFLOW_HIDDEN_MARK] = val;\n};\n\nexport const getBodyOverflowHidden = () => {\n  if (top[TOP_BODY_OVERFLOW_HIDDEN_MARK] === undefined) {\n    setBodyOverflowHidden(true);\n  }\n  return top[TOP_BODY_OVERFLOW_HIDDEN_MARK];\n};\n\nconst HiddenOverflow = createGlobalStyle`\n  body{\n    position: relative;\n    width: calc(100% - 17px);\n    overflow: hidden;\n    touch-action: none;\n  }\n`;\n\n/**\n * 标记 禁用top.body 滚动\n * didmount setBodyOverflowHidden(false)\n * willunmount setBodyOverflowHidden(true)\n */\nexport const useHiddenOverflow = () => {\n  useEffect(() => {\n    setBodyOverflowHidden(false);\n    return () => {\n      setBodyOverflowHidden(true);\n    };\n  });\n};\n\nexport default () => {\n  const [visibleProxy] = useState(() => getBodyOverflowHidden());\n  useHiddenOverflow();\n  if (visibleProxy) {\n    return <HiddenOverflow />;\n  }\n  return null;\n};\n","/* eslint-disable no-restricted-globals */\nimport React, { ReactNode } from 'react';\nimport { Modal as AntdModal, ConfigProvider } from 'antd';\nimport { ModalFuncProps, ModalProps as AntdModalProps } from 'antd/lib/modal';\nimport { StyleSheetManager } from 'styled-components';\nimport { getTopRoot, getParent } from '../utils/getContainer';\nimport TopBodyOverflow from '../components/TopBodyOverflow';\n\nconst topRoot = getTopRoot();\n\nexport interface ModalProps extends Omit<AntdModalProps, 'destroyOnClose'> {\n  children?: ReactNode;\n}\n\nconst Modal = ({ children, width, getContainer, ...rest }: ModalProps) => {\n  if (rest.visible !== true) {\n    return null;\n  }\n  return (\n    <StyleSheetManager target={topRoot}>\n      <>\n        <TopBodyOverflow />\n        <AntdModal getContainer={getContainer || getTopRoot} width={width} {...rest}>\n          <ConfigProvider getPopupContainer={getParent}>{children}</ConfigProvider>\n        </AntdModal>\n      </>\n    </StyleSheetManager>\n  );\n};\n\ntype ModalType = 'info' | 'success' | 'error' | 'warning' | 'confirm';\n\nconst createModal = (type: ModalType) => (config: ModalFuncProps) =>\n  AntdModal[type]({ getContainer: getTopRoot, ...config });\n\nModal.info = createModal('info');\nModal.success = createModal('success');\nModal.error = createModal('error');\nModal.warning = createModal('warning');\nModal.confirm = createModal('confirm');\nModal.destroyAll = AntdModal.destroyAll;\n\nexport default Modal;\n","export const ME_URL = (origin: string = window.location.origin) =>\n  `${origin}/gateway/v1/user?requireAvatar=true`;\n\nexport const LOGIN_URL = (origin: string = window.location.origin) => `${origin}/gateway/v1/login`;\n\nexport const OP_GET_URL = (origin: string = window.location.origin) => `${origin}/gateway/v1/op`;\n\nexport const AUTHORIZE_URL = (opBaseUrl: string) => `${opBaseUrl}/oauth/authorize`;\n\nexport const PLAT_INFO_URL = (djcGatewayBaseUrl: string) =>\n  `${djcGatewayBaseUrl}/djcsupport/domainname/getPlatformConfigure`;\n","interface ResultI {\n  href: string;\n  origin: string;\n  protocol: string;\n  host: string;\n  hostname: string;\n  port: string;\n  pathname: string;\n  search: string;\n  hash: string;\n}\n\nfunction parseUrl(url: string) {\n  const _url = url.startsWith('//') ? `${window.location.protocol}${url}` : url;\n\n  const result = {};\n  const keys = [\n    'href',\n    'origin',\n    'protocol',\n    'host',\n    'hostname',\n    'port',\n    'pathname',\n    'search',\n    'hash',\n  ];\n  const regexp = /(([^:]+:)\\/\\/(([^:/?#]+)(:\\d+)?))(\\/[^?#]*)?(\\?[^#]*)?(#.*)?/;\n\n  const match = regexp.exec(_url);\n\n  if (match) {\n    for (let i = keys.length - 1; i >= 0; --i) {\n      result[keys[i]] = match[i] ? match[i] : '';\n    }\n  }\n\n  return result as ResultI;\n}\n\nexport default parseUrl;\n","import request from '../../utils/request';\nimport Modal from '../../components/Modal';\nimport { LOGIN_URL, PLAT_INFO_URL } from '../../constants/url';\nimport parseUrl from '../../utils/parseUrl';\nimport { loginSucessRedirectTargetI } from './types';\nimport OrgIdentityType from '../../enums/OrgIdentityType';\n\n/**\n * 客户端标识\n * 如果传递了平台id和部署点约定使用户 ${platId}@${dp} 作为 clientId\n */\nconst getClientId = (platId: string, dp?: string, clientId?: string) => {\n  if (clientId) {\n    return clientId;\n  }\n  if (dp) {\n    return `${platId}@${dp}`;\n  }\n  return `plat@${platId}`;\n};\n\n/**\n * 客户端标识\n */\nconst getLoginSuccessRedirectUrl = (origin?: string, loginSuccessRedirectUri?: string) => {\n  if (loginSuccessRedirectUri) return loginSuccessRedirectUri;\n  return `${origin || window.location.origin}/login-app/login-success/index.html`;\n};\n\nexport interface BuildLoginParamsArgs {\n  /**\n   * 查询平台信息网关\n   */\n  djcGatewayBaseUrl: string;\n  /**\n   * 默认登录当前访问域名对应的平台, 可以用此参数指定要登录的域\n   * 例如 https://www.gec123.com\n   */\n  origin?: string;\n  /**\n   * 平台id\n   */\n  platId?: string;\n  /**\n   * 部署点\n   */\n  dp?: string;\n  /**\n   * 授权页面UI\n   */\n  ui?: string;\n  /**\n   * 客户端标识\n   */\n  clientId?: string;\n  /**\n   * 登录成功跳转地址\n   */\n  loginSuccessRedirectUri?: string;\n  /**\n   * 登录成功或失败后的跳转目标\n   * 失败时 mode = popup 时, 此参数有效\n   */\n  loginSucessRedirectTarget?: loginSucessRedirectTargetI;\n  /**\n   * 限制登录用户的身份类型\n   */\n  limitOrgTypes?: Array<OrgIdentityType>;\n  /**\n   * 错误信息\n   */\n  errorMessage?: string;\n}\n\nconst buildParams = async ({\n  origin,\n  djcGatewayBaseUrl,\n  platId,\n  dp,\n  ui,\n  clientId,\n  loginSuccessRedirectUri,\n  loginSucessRedirectTarget,\n  limitOrgTypes,\n  errorMessage,\n}: BuildLoginParamsArgs) => {\n  let _platId = platId;\n\n  // 如果传递了 platId 不查询平台信息\n  if (!platId) {\n    const { data: platInfo } = await request(PLAT_INFO_URL(djcGatewayBaseUrl), {\n      params: {\n        orgDomainName: origin ? parseUrl(origin).host : window.location.host,\n      },\n    });\n\n    _platId = platInfo?.platformCode;\n  }\n\n  if (!_platId) {\n    const content = `未查询到 ${\n      origin ? parseUrl(origin).host : window.location.host\n    } 对应的平台信息, 请检查平台配置是否正确`;\n\n    Modal.error({\n      content,\n    });\n\n    return Promise.reject(new Error(content));\n  }\n\n  return {\n    ui,\n    client_id: getClientId(_platId, dp, clientId),\n    scope: _platId,\n    login_sucess_redirect_uri: getLoginSuccessRedirectUrl(origin, loginSuccessRedirectUri),\n    login_sucess_redirect_target: loginSucessRedirectTarget,\n    redirect_uri: LOGIN_URL(origin),\n    is_fpa: true,\n    error_message: errorMessage,\n    options: limitOrgTypes && {\n      limitOrgTypes,\n    },\n  };\n};\n\nexport default buildParams;\n","export const ANTD_PREFIX = 'ant';\n","import React, { MutableRefObject } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled from 'styled-components';\nimport Modal from '../../components/Modal';\nimport { ANTD_PREFIX } from '../../constants/antdPrefix';\n\nlet cancelLogin: () => void = () => undefined;\n\nconst LoginBoxModal = styled(Modal)`\n  &&& .${ANTD_PREFIX}-modal-body {\n    border: 3px solid #666666;\n    border-radius: 3px;\n    padding: 0;\n  }\n`;\n\nconst popupLoginBox = (\n  loginFormUrl: string,\n  onCancelLogin?: () => void,\n  closePopupRef?: MutableRefObject<Function>\n) => {\n  if (cancelLogin) cancelLogin();\n\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n\n  const close = () => ReactDOM.unmountComponentAtNode(div);\n\n  cancelLogin = () => {\n    if (onCancelLogin && typeof onCancelLogin === 'function') {\n      onCancelLogin();\n    }\n    close();\n  };\n\n  ReactDOM.render(\n    <LoginBoxModal\n      visible\n      maskClosable\n      closable={false}\n      footer={null}\n      closeIcon={null}\n      onCancel={cancelLogin}\n      width={366}\n    >\n      <iframe\n        title=\"loginBox\"\n        className=\"login-form-box\"\n        src={loginFormUrl}\n        width=\"360px\"\n        height=\"440px\"\n        scrolling=\"no\"\n        style={{ margin: 0, padding: 0, display: 'block' }}\n        frameBorder=\"0\"\n      />\n    </LoginBoxModal>,\n    div\n  );\n\n  // eslint-disable-next-line no-param-reassign\n  if (closePopupRef) closePopupRef.current = close;\n\n  return close;\n};\n\nexport default popupLoginBox;\n","import getIsAdmin from './getIsAdmin';\nimport { CompatibleMeI, MeI } from '../../types/Me';\n\ninterface CompatibilityMeI {\n  (me?: MeI): CompatibleMeI | undefined;\n}\n\nconst compatibilityMe: CompatibilityMeI = me => {\n  if (!me || Object.getOwnPropertyNames(me).length === 0) return undefined;\n  return {\n    admin: getIsAdmin(me?.roles),\n    adminAreaId: me?.org?.areaId,\n    adminAreaName: me?.org?.areaName,\n    maintainPlatId: me?.additionalInformation?.mpi,\n    orgId: me?.org?.orgId,\n    orgName: me?.org?.orgName,\n    orgType: me?.org?.orgType,\n    userName: me?.realName,\n    userTypes: me?.roles ? me?.roles.join(',') : undefined,\n    deptRole: me?.additionalInformation?.deptRole,\n    isBidDown: me?.additionalInformation?.isBidDown,\n    isSj: me?.additionalInformation?.isSj,\n    orgClassNo: me?.additionalInformation?.orgClassNo,\n    organClass: me?.additionalInformation?.organClass,\n    userType: me?.additionalInformation?.userType,\n    ...me,\n  };\n};\nexport default compatibilityMe;\n","import RoleType from '../../enums/RoleType';\n\nexport default (roles?: Array<RoleType>) => {\n  if (!roles) return false;\n  return roles.findIndex(role => String(role).endsWith('01')) !== -1;\n};\n","import { Dispatch } from 'react';\nimport setGlobalContextMe from './setGlobalContextMe';\nimport { ME_URL } from '../constants/url';\nimport request from '../utils/request';\nimport compatibilityMe from '../utils/compatibilityMe';\n\nexport default async (dispatch: Dispatch<any>, origin?: string) => {\n  const response = await request(ME_URL(origin));\n\n  const me = response.data;\n\n  if (!me || Object.getOwnPropertyNames(me).length === 0) return Promise.reject();\n\n  const cMe = compatibilityMe(response.data);\n\n  // 如果请求登录域和当前访问域不同, 不写入全局状态\n  if (!origin || window.location.origin.includes(origin)) setGlobalContextMe(dispatch, cMe);\n\n  return cMe;\n};\n","import { Dispatch } from 'react';\nimport { CompatibleMeI } from '../types/Me';\n\nconst SET_GLOBAL_CONTEXT = '@@GLOBAL_CONTEXT/SET';\n\nfunction setGlobalContextMe(dispatch: Dispatch<any>, me?: CompatibleMeI) {\n  dispatch({\n    type: SET_GLOBAL_CONTEXT,\n    payload: { me },\n  });\n}\n\nexport default setGlobalContextMe;\n","import { OP_GET_URL } from '../constants/url';\nimport request from '../utils/request';\n\nexport default async (origin: string = window.location.origin) => {\n  const response = await request(OP_GET_URL(origin));\n\n  return response?.data?.op;\n};\n","import { MutableRefObject } from 'react';\nimport buildParams from './buildLoginParams';\nimport { LoginModeI, LoginCommonArgs } from './types';\nimport authorize from './authorize';\nimport popupLoginBox from './popupLoginBox';\nimport requestMe from '../requestMe';\n// import Modal from '../../components/Modal';\nimport requestOpBaseUrl from '../requestOpBaseUrl';\n\nconst gotoLoginPage = (url?: string) => {\n  if (!url) {\n    throw new Error('mode =  page, 必须指定 loginPage');\n  }\n\n  window.open(url, '_top');\n};\n\nexport interface LoginArgs extends LoginCommonArgs {\n  /**\n   * 登录模式\n   */\n  mode: LoginModeI;\n\n  /**\n   * 登录页面地址\n   * mode = page, 必须提供\n   */\n  loginPage?: string;\n\n  /**\n   * 取消登录事件处理\n   */\n  onCancelLogin?: () => void;\n\n  /**\n   * 关闭登录弹层, 由于登录之后需要重定向到登录成功页面, 所以关闭动作只有由引用来调用\n   */\n  closePopupRef?: MutableRefObject<Function>;\n}\n\nconst login = async ({\n  mode,\n  origin,\n  platId,\n  dp,\n  ui,\n  loginPage,\n  djcGatewayBaseUrl,\n  loginSuccessRedirectUri,\n  loginSucessRedirectTarget = '_self',\n  limitOrgTypes,\n  oauthState,\n  onCancelLogin,\n  closePopupRef,\n  dispatch,\n}: LoginArgs) => {\n  try {\n    const me = await requestMe(dispatch, origin);\n    return me;\n  } catch (e) {\n    const params = await buildParams({\n      origin,\n      djcGatewayBaseUrl,\n      platId,\n      dp,\n      ui,\n      loginSuccessRedirectUri,\n      loginSucessRedirectTarget,\n      limitOrgTypes,\n    });\n\n    const opBaseUrl = await requestOpBaseUrl(origin);\n\n    try {\n      const { location, res } = await authorize(opBaseUrl, {\n        response_type: 'code',\n        client_id: params.client_id,\n        redirect_uri: params.redirect_uri,\n        scope: params.scope,\n        options: params.options,\n        state: JSON.stringify({ ...params, ...oauthState }),\n      });\n\n      if (res === 0) {\n        const me = await requestMe(dispatch, origin).catch(() => {\n          // eslint-disable-next-line no-console\n          console.error('服务器错误, 登录成功, 但获取登录用户信息失败!');\n        });\n        return me;\n      }\n\n      if (mode === 'page') {\n        gotoLoginPage(loginPage);\n      }\n\n      if (mode === 'popup') {\n        if (location) return popupLoginBox(location, onCancelLogin, closePopupRef);\n        // eslint-disable-next-line no-console\n        console.log('login error, mode=popup, authorize not response location');\n      }\n\n      if (mode === 'sso') {\n        return Promise.reject(new Error('尝试单点登录失败'));\n      }\n    } catch (error) {\n      const message =\n        error?.response?.data?.error_message ||\n        error?.response?.data?.message ||\n        error.message ||\n        '服务器端错误';\n\n      // eslint-disable-next-line no-console\n      console.error(message, error);\n\n      // Modal.error({\n      //   content: message,\n      // });\n\n      // 页面登录是即使 authorize 调用失败, 依然跳转\n      if (mode === 'page') {\n        gotoLoginPage(loginPage);\n      }\n    }\n  }\n};\n\nexport default login;\n","import request from '../../utils/request';\nimport { AUTHORIZE_URL } from '../../constants/url';\n\nconst authorize = async (opBaseUrl: string, params: object) => {\n  const response = await request(AUTHORIZE_URL(opBaseUrl), {\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    params,\n  });\n\n  return response?.data || {};\n};\n\nexport default authorize;\n","import { Dispatch } from 'react';\nimport login from './login';\n\nexport interface LoginBySSOArgs {\n  /**\n   * 大家采网关地址\n   * 用于获取平台信息\n   */\n  djcGatewayBaseUrl: string;\n\n  /**\n   * 用于设置全局状态\n   */\n  dispatch: Dispatch<any>;\n\n  /**\n   * 默认登录当前访问域名对应的平台, 可以用此参数指定要登录的域\n   * 例如 https://www.gec123.com\n   */\n  origin?: string;\n\n  /**\n   * 平台 id\n   */\n  platId?: string;\n\n  /**\n   * 指定部署点 例如 PM\n   */\n  dp?: string;\n  /**\n   * 客户端id\n   * 未指定, 使用 约定格式: “plat@平台id”\n   */\n  clientId?: string;\n}\n\nexport default (args: LoginBySSOArgs) => login({ ...args, mode: 'sso' });\n","/**\n * promise reject 时, 仍然使用 resolve 返回, 可用于 [promise.all] 当某一 promise reject 时, 继续等待其他的 promise 执行完成\n * @param promise\n * @returns {*}\n */\nexport default promise =>\n  promise.then(value => ({ value, status: 'resolved' }), error => ({ error, status: 'rejected' }));\n","function flatDeep(arr: Array<any>, d = 1) {\n  return d > 0\n    ? arr.reduce((acc, val) => acc.concat(Array.isArray(val) ? flatDeep(val, d - 1) : val), [])\n    : arr.slice();\n}\n\nexport default flatDeep;\n","import request from '../../utils/request';\nimport reflect from '../../utils/promise-reflect';\nimport flatDeep from '../../utils/flatDeep';\nimport requestByImage from '../../utils/requestByImage';\n\ninterface ResultI {\n  data: {\n    apps: Array<string>;\n    ops: Array<string>;\n  };\n}\n\nconst mapUrls = (urls: Array<string> = []) => {\n  const promises = urls.map((url: string) => requestByImage(url));\n  // 等待所有注销调用完成\n  return Promise.all(promises.map(reflect));\n};\n\n/**\n * 登录注销\n */\nconst doLogout = async (opBaseUrl: string, otherLogoutUrls?: Array<string>) => {\n  const { data } = await request(`${opBaseUrl}/logout`, {\n    method: 'DELETE',\n  });\n\n  let urls = data.apps || [];\n\n  /**\n   * 注销其他认证中心\n   */\n  if (data.ops && data.ops.length > 0) {\n    const promises = data.ops.map((op: string) =>\n      request(op, {\n        method: 'DELETE',\n      })\n    );\n\n    const results = await Promise.all<ResultI>(promises);\n\n    if (results && results.length > 0) {\n      urls = urls.concat(flatDeep(results.map((result: ResultI) => result?.data?.apps)));\n    }\n  }\n\n  /**\n   * 注销其他的第三方单点登录, 例如政采云\n   */\n  if (otherLogoutUrls && otherLogoutUrls.length > 0) {\n    urls = urls.concat(otherLogoutUrls);\n  }\n\n  await mapUrls(urls);\n};\n\nexport default doLogout;\n","export default (src: string, timeout: number = 5000) =>\n  new Promise((resolve, reject) => {\n    const loader = new Image(0, 0);\n    loader.onload = resolve;\n    loader.onerror = reject;\n    loader.src = src;\n\n    setTimeout(() => {\n      reject();\n    }, timeout);\n  });\n","import login, { LoginArgs } from '../login/login';\nimport requestOpBaseUrl from '../requestOpBaseUrl';\n\nimport doLogout from './doLogout';\n\nexport interface LogoutSelfArgs {\n  /**\n   * 注销后的跳转地址\n   */\n  logoutRedirectUrl?: string;\n\n  /**\n   * 注销其他的第三方单点登录, 例如政采云\n   */\n  otherLogoutUrls?: Array<string>;\n}\n\nexport interface LogoutArgs extends LoginArgs, LogoutSelfArgs {}\n\nexport default async ({ logoutRedirectUrl, otherLogoutUrls, ...loginArgs }: LogoutArgs) => {\n  const opBaseUrl = await requestOpBaseUrl(loginArgs.origin);\n\n  await doLogout(opBaseUrl, otherLogoutUrls);\n\n  if (logoutRedirectUrl) {\n    /**\n     * 跳转到指定页面\n     */\n    window.open(logoutRedirectUrl, '_top');\n  } else {\n    // 重新登录\n    await login(loginArgs);\n  }\n};\n","import qs from 'qs';\nimport UIType from '../enums/UIType';\nimport request from '../utils/request';\nimport { PLAT_INFO_URL } from '../constants/url';\nimport parseUrl from '../utils/parseUrl';\n\nexport interface RegisterArgs {\n  /**\n   * 授权页面 origin, 注册也部署在此域下\n   */\n  authPageOrigin: string;\n  /**\n   * 大家采网关地址\n   * 用于获取平台信息\n   */\n  djcGatewayBaseUrl: string;\n  /**\n   * 默认使用当前访问域名去查询对应的平台信息, 可以通过此参数指定域名\n   * 例如 https://www.gec123.com\n   */\n  origin?: string;\n  /**\n   * 如果指定了ui, 则使用该值, 否则从 origin 和 dp 推断 ui\n   */\n  ui?: UIType;\n  /**\n   * @部署点 例如: PM\n   */\n  dp?: string;\n}\n\nexport default async ({ authPageOrigin, origin, ui, dp, djcGatewayBaseUrl }: RegisterArgs) => {\n  // 注销, 然后跳转到登录页面\n  const registerUrl = `${authPageOrigin}/register/select-type`;\n\n  let platId: string | null = null;\n\n  const { data: platInfo } = await request(PLAT_INFO_URL(djcGatewayBaseUrl), {\n    params: {\n      orgDomainName: origin ? parseUrl(origin).host : window.location.host,\n    },\n  });\n\n  platId = platInfo?.platformCode;\n\n  window.open(\n    `${registerUrl}${qs.stringify(\n      {\n        ui,\n        platId,\n        dp,\n      },\n      { addQueryPrefix: true, encode: false }\n    )}`,\n    '_blank'\n  );\n};\n","import { GLOBAL_CONTEXT } from '../constants/namespace';\nimport { GlobalContextStateI } from '../types/GlobalContextState';\n\nexport default (state: GlobalContextStateI) => state[GLOBAL_CONTEXT].me;\n","import { CompatibleMeI } from '../types/Me';\nimport loginBySSO, { LoginBySSOArgs } from './login/loginBySSO';\n\nconst requestMeTrySSO = async (args: LoginBySSOArgs) => {\n  const me = await loginBySSO(args);\n  if (!me) return Promise.reject();\n  return me as unknown as CompatibleMeI;\n};\n\nexport default requestMeTrySSO;\n","import React, { Dispatch } from 'react';\nimport { Props } from './LoginOrRegister';\n\ntype LoginOrRegisterContextI = Omit<Props, 'className'> & {\n  /**\n   * 用于设置全局状态\n   */\n  dispatch: Dispatch<any>;\n};\n\n/**\n * 配置环境\n */\nexport default React.createContext<LoginOrRegisterContextI>({\n  mode: 'page',\n  authPageOrigin: '',\n  loginPage: '',\n  djcGatewayBaseUrl: '',\n  loginSuccessRedirectUri: '/login-app/login-success/index.html',\n  toCenterPage: () => undefined,\n  dispatch: () => undefined,\n});\n","import { Avatar } from 'antd';\nimport React, { useMemo, useContext } from 'react';\nimport defaultAvatar from '../../imgs/djc-logo.svg';\nimport LoginOrRegisterContext from '../LoginOrRegisterContext';\n\ninterface Props {\n  path?: string;\n  className?: string;\n}\n\nexport default ({ path, className }: Props) => {\n  const { djcGatewayBaseUrl } = useContext(LoginOrRegisterContext);\n\n  const src = useMemo(() => {\n    // return 'https://lh3.googleusercontent.com/ogw/ADGmqu9g6TEN3h27tpp82Ie88Pk4W9SoLs2CRauXbDvMYQ=s32-c-mo'\n\n    if (path)\n      // eslint-disable-next-line max-len\n      return `${djcGatewayBaseUrl}/files?business=avatar&filePath=${path}&fileName=file&attachment=false&contentType=image/png`;\n    return defaultAvatar;\n  }, [djcGatewayBaseUrl, path]);\n\n  return <Avatar className={className} src={src} />;\n};\n","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjIxNTk1MjI3MzMxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjEzOTgiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTU3NC4yMzk1MTA1NyAzMjkuMjU0MjAyODFWMTcxLjY2OTA1ODc3YzAtMy4zMTA2MTI1Ny0zLjMxMDYxMjU3LTUuOTU5MTAxNzgtNi42MjEyMjQ0NC00LjYzNDg1NzE4TDE0NS4xODQxNjAyOSAzMjAuNjQ2NjExMTJjLTEuOTg2MzY3MjcgMC42NjIxMjI2Ni0zLjMxMDYxMjU3IDIuNjQ4NDg5OTItMy4zMTA2MTE4NiA0LjYzNDg1NzE3djI1MC4yODIyODc2YzEuOTg2MzY3MjcgMTIwLjUwNjI4NjYyIDc4Ljc5MjU3MjAyIDIyMy4xMzUyNjcxOSAxODUuMzk0Mjg3MTEgMjYzLjUyNDczNjQ4IDMxLjc4MTg3NzU4IDExLjkxODIwNDI4IDY2Ljg3NDM2Nzc0IDE5LjIwMTU1MTM4IDEwMi42Mjg5Nzk4NSAxOS4yMDE1NTEzNiAzNi40MTY3MzQ3NiAwIDcwLjg0NzEwMjI2LTYuNjIxMjI0NDMgMTAyLjYyODk4MDU3LTE5LjIwMTU1MTM2IDE0LjU2NjY5NDE5LTUuMjk2OTc5ODQgMjcuODA5MTQzMDctMTEuOTE4MjA0MjggNDEuMDUxNTkxOTUtMTkuODYzNjc0MDRDNjU4Ljk5MTE4NTA5IDc3MC4yMjc3NTczNiA3MTYuNTk1ODM4NDggNjc4Ljg1NDg1ODQgNzE3LjkyMDA4MzA4IDU3My41NzczODc5MXYtNTAuMzIxMzA2M2w0MS4wNTE1OTE5NC0xNS4yMjg4MTYxMlY1NDUuMTA2MTIyOTFjMCAzLjMxMDYxMjU3IDMuMzEwNjEyNTcgNS45NTkxMDE3OCA2LjYyMTIyNTE2IDQuNjM0ODU3MTdsNzIuODMzNDY5NTItMjYuNDg0ODk4NDZjMS45ODYzNjcyNy0wLjY2MjEyMjY2IDMuMzEwNjEyNTctMi42NDg0ODk5MiAzLjMxMDYxMjU4LTQuNjM0ODU3MTl2LTQwLjM4OTQ2OTI4bDM3Ljc0MDk3OTM2LTEzLjkwNDU3MTUzYzEuOTg2MzY3MjctMC42NjIxMjI2NiAzLjMxMDYxMjU3LTIuNjQ4NDg5OTIgMy4zMTA2MTI1OC00LjYzNDg1NzE3VjIyMy45NzY3MzIzMmMwLTMuMzEwNjEyNTctMy4zMTA2MTI1Ny01Ljk1OTEwMTc4LTYuNjIxMjI0NDMtNC42MzQ4NTcxOEw1NzQuMjM5NTEwNTcgMzI5LjI1NDIwMjgxeiBtLTQxLjA1MTU5MTk0IDI0MS42NzQ2OTU5YzAgMTcuMjE1MTg0MTEtNC42MzQ4NTcxOCAzMy43NjgyNDQ4NS0xMS45MTgyMDQyOCA0OC4zMzQ5MzkwNC0xNy4yMTUxODQxMSAzMi40NDQwMDAyNC01MS42NDU1NTE2MiA1NC4yOTQwNDE1NC05MC43MTA3NzYzIDU0LjI5NDA0MDgxLTEzLjI0MjQ0ODg4IDAtMjYuNDg0ODk4NDYtMi42NDg0ODk5Mi0zOC40MDMxMDIwMS03LjI4MzM0NzEtMTUuODkwOTM4OC02LjYyMTIyNDQzLTI5Ljc5NTUxMDMzLTE2LjU1MzA2MTQ1LTQwLjM4OTQ3LTI5LjEzMzM4NzY2YTEwMS45NjY4NTc5MSAxMDEuOTY2ODU3OTEgMCAwIDEtMjQuNDk4NTMwNDktNjYuMjEyMjQ1MDl2LTY2LjIxMjI0NTgyYzAtMS45ODYzNjcyNyAxLjMyNDI0NDYtMy45NzI3MzQ1MSAzLjMxMDYxMTg2LTQuNjM0ODU3MTdMNTMzLjE4NzkxODYyIDQyNS45MjQwODA4OHYxNDUuMDA0ODE3ODR6IiBwLWlkPSIxMzk5IiBmaWxsPSIjY2RjZGNkIj48L3BhdGg+PC9zdmc+\"","/* eslint-disable max-len */\nimport React, { useCallback, useContext } from 'react';\nimport styled from 'styled-components';\nimport logout from '../../function/logout';\nimport LoginOrRegisterContext from '../LoginOrRegisterContext';\n\nconst color = (props: any) => props.theme.textColorSecondary || '#697b8c';\nconst linkColorHover = (props: any) => props.theme.linkColorHover || '#1890ff';\n\nconst Logout = styled.a`\n  color: ${color};\n  &:active {\n    color: ${color};\n  }\n  span,\n  svg {\n    vertical-align: middle;\n    color: ${color};\n    fill: ${color};\n  }\n  &:hover {\n    span,\n    svg {\n      color: ${linkColorHover};\n      fill: ${linkColorHover};\n    }\n  }\n`;\n\nexport default () => {\n  const args = useContext(LoginOrRegisterContext);\n\n  const logoutHandler = useCallback(async () => {\n    await logout(args);\n  }, [args]);\n\n  return (\n    <Logout onClick={logoutHandler}>\n      <span>退出</span>\n      <svg\n        viewBox=\"0 0 1024 1024\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        p-id=\"4393\"\n        width=\"20\"\n        height=\"20\"\n      >\n        <path\n          d=\"M593.92 838.513v-95.355a40.96 40.96 0 1 1 81.92 0v95.355c0 45.26-35.226 83.087-80.22 83.087H203.1c-44.994 0-80.22-37.827-80.22-83.087V185.487c0-45.26 35.226-83.087 80.22-83.087h392.52c44.994 0 80.22 37.827 80.22 83.087v193.946a40.96 40.96 0 1 1-81.92 0V185.487c0-1.024 0.061-1.147 0.901-1.167H203.9c0.84 0 0.901 0.164 0.901 1.167v653.026c0 1.024-0.061 1.147-0.901 1.167H594.82c-0.84 0-0.901-0.164-0.901-1.167z\"\n          p-id=\"4394\"\n        />\n        <path\n          d=\"M471.04 512h327.68q40.96 0 40.96 40.96t-40.96 40.96H471.04q-40.96 0-40.96-40.96T471.04 512z\"\n          p-id=\"4395\"\n        />\n        <path\n          d=\"M811.199 422.828L912.57 524.2q28.963 28.963 0 57.926t-57.926 0l-101.37-101.37q-28.964-28.964 0-57.927 28.962-28.963 57.925 0z\"\n          p-id=\"4396\"\n        />\n        <path\n          d=\"M753.273 625.575l101.37-101.37q28.964-28.964 57.927 0 28.963 28.962 0 57.925L811.2 683.501q-28.964 28.963-57.927 0t0-57.926z\"\n          p-id=\"4397\"\n        />\n      </svg>\n    </Logout>\n  );\n};\n","import React, { useContext } from 'react';\nimport { Menu, Typography } from 'antd';\nimport styled from 'styled-components';\nimport { MeI } from '../../types/Me';\nimport { ANTD_PREFIX } from '../../constants/antdPrefix';\nimport Avatar from './Avatar';\nimport Logout from './Logout';\nimport LoginOrRegisterContext from '../LoginOrRegisterContext';\n\nconst { Paragraph } = Typography;\n\nconst Wrap = styled.div`\n  &&& {\n    max-width: 280px;\n    margin-bottom: -6px;\n    .${ANTD_PREFIX}-menu-vertical {\n      border-right: none;\n      .${ANTD_PREFIX}-menu-item {\n        cursor: default;\n        line-height: 35px;\n        height: auto;\n        text-align: center;\n        margin: 0;\n        &.${ANTD_PREFIX}-menu-item-selected, &:active {\n          background-color: white;\n        }\n      }\n    }\n  }\n`;\n\nconst UserAvatar = styled(Avatar)`\n  &&& {\n    height: 64px;\n    width: 64px;\n    vertical-align: top;\n    border: 1px solid #dedede;\n  }\n`;\n\nconst P = styled(Paragraph).attrs({\n  ellipsis: true,\n})`\n  &&& {\n    margin: 0;\n  }\n`;\n\nconst Name = styled(P)`\n  font-size: 16px;\n  font-weight: 700;\n`;\n\ninterface Props {\n  me: MeI;\n}\n\nexport default ({ me }: Props) => {\n  const { toCenterPage } = useContext(LoginOrRegisterContext);\n  return (\n    <Wrap>\n      <Menu mode=\"vertical\">\n        <Menu.Item key=\"avatar\">\n          <UserAvatar path={me.additionalInformation?.avatar} />\n        </Menu.Item>\n        <Menu.Item key=\"name\">\n          {me.realName && (\n            <a onClick={toCenterPage}>\n              <Name>{me.realName}</Name>\n            </a>\n          )}\n          {me.org?.orgName && <P>{me.org?.orgName}</P>}\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item key=\"logout\">\n          <Logout />\n        </Menu.Item>\n      </Menu>\n    </Wrap>\n  );\n};\n","import React from 'react';\nimport { Popover, Typography } from 'antd';\nimport styled from 'styled-components';\nimport { MeI } from '../../types/Me';\nimport PopoverContent from './PopoverContent';\nimport Avatar from './Avatar';\n\nconst TopAvatar = styled(Avatar)`\n  &&& {\n    height: 24px;\n    width: 24px;\n    vertical-align: middle;\n    margin-right: 4px;\n  }\n`;\n\nconst { Text } = Typography;\n\nconst Name = styled(Text)`\n  &&& {\n    max-width: 150;\n    vertical-align: middle;\n  }\n`;\n\ninterface Props {\n  me: MeI;\n}\n\nexport default ({ me }: Props) => (\n  <Popover placement=\"bottom\" autoAdjustOverflow={false} content={<PopoverContent me={me} />}>\n    <TopAvatar path={me.additionalInformation?.avatar} />\n    <Name style={{ maxWidth: 150 }} ellipsis>\n      {me.realName}\n    </Name>\n  </Popover>\n);\n","import React, { useCallback, useContext } from 'react';\nimport login, { LoginArgs } from '../function/login/login';\nimport LoginOrRegisterContext from './LoginOrRegisterContext';\n\nexport default () => {\n  const args = useContext(LoginOrRegisterContext);\n  const callLogin = useCallback(() => {\n    login(args as LoginArgs);\n  }, [args]);\n\n  return <a onClick={callLogin}>登录</a>;\n};\n","import React, { useCallback, useContext } from 'react';\nimport register from '../function/register';\nimport LoginOrRegisterContext from './LoginOrRegisterContext';\n\nexport default () => {\n  const args = useContext(LoginOrRegisterContext);\n\n  const callRegister = useCallback(() => {\n    register(args);\n  }, [args]);\n\n  return <a onClick={callRegister}>注册</a>;\n};\n","import { useSelector } from 'react-redux';\nimport { meSelector } from '../function';\n\nexport default () => useSelector(meSelector);\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Typography } from 'antd';\nimport styled from 'styled-components';\nimport { requestMeTrySSO } from '../function';\nimport { LoginArgs } from '../function/login/login';\nimport { RegisterArgs } from '../function/register';\nimport LoginOrRegisterContext from './LoginOrRegisterContext';\nimport Me from './Me';\nimport { LogoutSelfArgs } from '../function/logout';\nimport Login from './Login';\nimport Register from './Register';\nimport { CommonProps } from './CommonProps';\nimport useMe from '../hooks/useMe';\n\nconst { Text } = Typography;\n\nconst Or = styled(Text).attrs({\n  type: 'secondary',\n})`\n  margin: 0 8px;\n`;\n\ntype _LoginArgs = Omit<LoginArgs, 'mode' | 'dispatch'>;\n\nexport interface Props extends _LoginArgs, LogoutSelfArgs, RegisterArgs, CommonProps {\n  mode: 'page' | 'popup';\n}\n\nconst LoginOrRegister = ({ className, ...rest }: Props) => {\n  const me = useMe();\n\n  const dispatch = useDispatch();\n\n  /**\n   * 如果在全局状态中没有, 尝试请求一次\n   */\n  useEffect(() => {\n    if (!me) {\n      requestMeTrySSO({ djcGatewayBaseUrl: rest.djcGatewayBaseUrl, dispatch }).catch(() => {});\n    }\n  }, [me, dispatch, rest.djcGatewayBaseUrl]);\n\n  return (\n    <LoginOrRegisterContext.Provider value={{ dispatch, ...rest }}>\n      <div className={className}>\n        {me ? (\n          <Me me={me} />\n        ) : (\n          <>\n            <Login />\n            <Or>或</Or>\n            <Register />\n          </>\n        )}\n      </div>\n    </LoginOrRegisterContext.Provider>\n  );\n};\n\nexport default LoginOrRegister;\n","import parseUrl from '../utils/parseUrl';\nimport { LoginBySSOArgs } from '../function/login/loginBySSO';\nimport { loginBySSO } from '../function';\n\ninterface CacheItemI {\n  response: any;\n  resolve: any;\n  reject: (reason?: any) => void;\n}\n\n/**\n * 优化性能, 如果有多个401请求并发, 只执行第一个\n */\nlet loading = false;\nconst cache: Array<CacheItemI> = [];\n\n/**\n * 触发并发请求的重试\n */\nfunction retryCache(request: any) {\n  while (cache.length > 0) {\n    const { response, resolve } = cache.shift() as CacheItemI;\n    resolve(request({ ...response.config, SSOInterceptorIgnore: true }));\n  }\n}\n\n/**\n * 触发并发请求的重试\n */\nfunction rejectCache() {\n  while (cache.length > 0) {\n    const { response, reject } = cache.shift() as CacheItemI;\n    reject(response);\n  }\n}\n\n// 登录并重新发起请求\nasync function loginAndRetry(args: LoginBySSOArgs, response: any, request: any) {\n  if (loading) {\n    return new Promise((resolve, reject) => {\n      cache.push({ response, resolve, reject });\n    });\n  }\n  /**\n   * 尝试单点登录\n   */\n  try {\n    loading = true;\n    /**\n     * 获取请求的域, 尝试单点登录此域\n     */\n    const { origin } = parseUrl(response.config.url);\n    await loginBySSO({ ...args, origin });\n  } catch (e) {\n    rejectCache();\n    return Promise.reject(response);\n  } finally {\n    loading = false;\n  }\n\n  /**\n   * 登录成功再次发起请求(重试并发请求)\n   */\n  retryCache(request);\n  /**\n   * 登录成功再次发起请求\n   */\n  return request({ ...response.config, SSOInterceptorIgnore: true });\n}\n\nexport default loginAndRetry;\n","import React from 'react';\nimport { RegisterArgs } from '../function/register';\nimport { LoginByPageArgs } from '../function/login/loginByPage';\nimport { LogoutSelfArgs } from '../function/logout';\nimport LoginOrRegister from './LoginOrRegister';\nimport { CommonProps } from './CommonProps';\n\ntype _LoginByPageArgs = Omit<LoginByPageArgs, 'dispatch'>;\n\nexport interface Props extends _LoginByPageArgs, LogoutSelfArgs, RegisterArgs, CommonProps {}\n\nexport default (props: Props) => <LoginOrRegister mode=\"page\" {...props} />;\n","import React from 'react';\nimport { RegisterArgs } from '../function/register';\nimport { LoginByPopupArgs } from '../function/login/loginByPopup';\nimport { LogoutSelfArgs } from '../function/logout';\nimport LoginOrRegister from './LoginOrRegister';\nimport { CommonProps } from './CommonProps';\n\ntype _LoginByPopupArgs = Omit<LoginByPopupArgs, 'dispatch'>;\n\nexport interface Props extends _LoginByPopupArgs, LogoutSelfArgs, RegisterArgs, CommonProps {}\n\nexport default (props: Props) => <LoginOrRegister mode=\"popup\" {...props} />;\n","import { LoginBySSOArgs } from '../function/login/loginBySSO';\nimport loginAndRetry from './loginAndRetry';\n\nfunction SSOInterceptor(args: LoginBySSOArgs) {\n  window.angular\n    .module('SSOInterceptor', [])\n    .factory('SSOInterceptor', [\n      '$injector',\n      function interceptor($injector: any) {\n        return {\n          responseError(response: any) {\n            // ignore 401\n            if (!response.config || response.config.SSOInterceptorIgnore) {\n              return Promise.reject(response);\n            }\n\n            if (response.status === 401) {\n              return loginAndRetry(args, response, $injector.get('$http'));\n            }\n\n            return Promise.reject(response);\n          },\n        };\n      },\n    ])\n    // eslint-disable-next-line prefer-arrow-callback\n    .config([\n      '$httpProvider',\n      function config($httpProvider: any) {\n        $httpProvider.interceptors.push('SSOInterceptor');\n      },\n    ]);\n\n  return 'SSOInterceptor';\n}\n\nexport default SSOInterceptor;\n","import axios from 'axios';\nimport { LoginBySSOArgs } from '../function/login/loginBySSO';\nimport loginAndRetry from './loginAndRetry';\n\nfunction SSOInterceptor(args: LoginBySSOArgs) {\n  return (error: any) => {\n    // ignore 401\n    if (!error.config || error.config.SSOInterceptorIgnore) {\n      return Promise.reject(error);\n    }\n\n    if (error.response.status === 401) {\n      return loginAndRetry(args, error, axios);\n    }\n\n    return Promise.reject(error);\n  };\n}\n\nexport default SSOInterceptor;\n","import qs from 'qs';\nimport buildLoginParams, { BuildLoginParamsArgs } from './buildLoginParams';\n\nexport default async (args: BuildLoginParamsArgs) => {\n  const params = await buildLoginParams(args);\n  return qs.stringify(params, { addQueryPrefix: true });\n};\n","import login from './login';\nimport { LoginCommonArgs } from './types';\n\nexport interface LoginByPageArgs extends LoginCommonArgs {\n  /**\n   * 登录页面地址\n   * mode = page, 必须提供\n   * 此页面会接受到 state 参数, 必须传递给 oauth-login 页面\n   */\n  loginPage: string;\n}\n\nexport default (args: LoginByPageArgs) => login({ ...args, mode: 'page' });\n","import { MutableRefObject } from 'react';\nimport login from './login';\nimport { LoginCommonArgs } from './types';\n\nexport interface LoginByPopupArgs extends LoginCommonArgs {\n  /**\n   * 取消登录事件处理\n   */\n  onCancelLogin?: () => void;\n\n  /**\n   * 关闭登录弹层, 由于登录之后需要重定向到登录成功页面, 所以关闭动作只有由引用来调用\n   */\n  closePopupRef?: MutableRefObject<Function>;\n}\n\nexport default (args: LoginByPopupArgs) => login({ ...args, mode: 'popup' });\n"],"names":["request","url","config","axios","__spreadValues","withCredentials","headers","X-Requested-With","paramsSerializer","params","qs","stringify","arrayFormat","allowDots","getTopRoot","document","querySelector","top","body","error","triggerNode","parentNode","TOP_BODY_OVERFLOW_HIDDEN_MARK","setBodyOverflowHidden","val","HiddenOverflow","createGlobalStyle","visibleProxy","useState","topRoot","Modal","_a","children","width","getContainer","_b","rest","visible","StyleSheetManager","target","TopBodyOverflow","AntdModal","ConfigProvider","getPopupContainer","getParent","createModal","type","info","success","warning","confirm","destroyAll","LOGIN_URL","origin","window","location","PLAT_INFO_URL","djcGatewayBaseUrl","_url","startsWith","protocol","result","keys","match","exec","i","length","getClientId","platId","dp","clientId","getLoginSuccessRedirectUrl","loginSuccessRedirectUri","buildParams","async","ui","loginSucessRedirectTarget","limitOrgTypes","errorMessage","_platId","data","platInfo","orgDomainName","parseUrl","host","platformCode","content","Promise","reject","Error","client_id","scope","login_sucess_redirect_uri","login_sucess_redirect_target","redirect_uri","is_fpa","error_message","options","ANTD_PREFIX","cancelLogin","LoginBoxModal","styled","compatibilityMe","roles","me","Object","getOwnPropertyNames","admin","findIndex","String","role","endsWith","adminAreaId","org","areaId","adminAreaName","areaName","maintainPlatId","additionalInformation","mpi","orgId","orgName","orgType","userName","realName","userTypes","join","deptRole","isBidDown","isSj","orgClassNo","organClass","userType","dispatch","response","ME_URL","cMe","includes","payload","OP_GET_URL","op","gotoLoginPage","open","login","mode","loginPage","oauthState","onCancelLogin","closePopupRef","requestMe","e","opBaseUrl","requestOpBaseUrl","res","AUTHORIZE_URL","Accept","Content-Type","authorize","response_type","state","JSON","catch","loginFormUrl","div","createElement","appendChild","close","ReactDOM","unmountComponentAtNode","render","maskClosable","closable","footer","closeIcon","onCancel","title","className","src","height","scrolling","style","margin","padding","display","frameBorder","current","popupLoginBox","log","message","args","__spreadProps","promise","then","value","status","arr","d","reduce","acc","concat","Array","isArray","flatDeep","slice","mapUrls","urls","promises","map","timeout","resolve","loader","Image","onload","onerror","requestByImage","all","reflect","doLogout","otherLogoutUrls","method","apps","ops","results","_c","logoutRedirectUrl","_d","loginArgs","authPageOrigin","registerUrl","addQueryPrefix","encode","requestMeTrySSO","loginBySSO","React","createContext","toCenterPage","path","useContext","LoginOrRegisterContext","useMemo","Avatar","color","props","theme","textColorSecondary","linkColorHover","Logout","a","logoutHandler","useCallback","logout","onClick","viewBox","version","xmlns","p-id","Paragraph","Typography","Wrap","UserAvatar","P","attrs","ellipsis","Name","Menu","Item","key","avatar","Divider","TopAvatar","Text","Popover","placement","autoAdjustOverflow","PopoverContent","maxWidth","callLogin","callRegister","useSelector","meSelector","Or","LoginOrRegister","_e","_f","useMe","useDispatch","Provider","Me","Login","Register","loading","cache","request2","push","shift","SSOInterceptorIgnore","angular","module","factory","$injector","responseError","loginAndRetry","get","$httpProvider","interceptors","buildLoginParams"],"mappings":"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"}