!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("qs"),require("react"),require("react-redux"),require("styled-components"),require("angular"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","axios","qs","react","react-redux","styled-components","angular","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TTSDK={},e.axios,e.Qs,e.React,e.ReactRedux,e.styled,e.angular,e.ReactDOM)}(this,(function(e,t,r,n,o,a,s,c){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(t),l=i(r),f=i(n),d=i(s),p=i(c),m={primaryColor:"#1890ff",primaryColorHover:"#3ca1ff",primaryColorActive:"#007ef3",textOnPrimaryColor:"#ffffff",secondaryColor:"#1890ff",secondaryColorHover:"#3ca1ff",secondaryColorActive:"#007ef3",textOnSecondaryColor:"#ffffff",textColor:"rgba(0,0,0,0.85)",textColorSecondary:"#697b8c",textColorDisabled:"rgba(0,0,0,0.35)",textCodeColor:"#697b8c",textCodeBgColor:"rgba(150,150,150,0.1)",textMarkBgColor:"#ffe58f",currencyColor:"#d63c00",linkColor:"#1890ff",linkColorHover:"#3ca1ff",linkColorActive:"#007ef3",successColor:"#52c41a",textOnSuccessColor:"#ffffff",successSecondaryColor:"#F6FFED",textOnSuccessSecondaryColor:"#000000",warningColor:"#faad14",textOnWarningColor:"#ffffff",warningSecondaryColor:"#ffffff",textOnWarningSecondaryColor:"#000000",dangerColor:"#f5222d",dangerColorHover:"#f7444d",dangerColorActive:"#e90b16",textOnDangerColor:"#000000",dangerSecondaryColor:"#FFF2F0",textOnDangerSecondaryColor:"#000000",infoColor:"#1890ff",textOnInfoColor:"#ffffff",infoSecondaryColor:"#E6F7FF",textOnInfoSecondaryColor:"#000000",pageBgColor:"#ffffff",bgColor:"#ffffff",bgColorSecondary:"#fff",bgColorHighlight:"#e4f2ff",textOnBgColorHighlight:"rgba(0,0,0,0.85)",bgColorDisabled:"#f5f5f5",textOnBgColorDisabled:"rgba(0,0,0,0.35)",bgColorDisabledHighlight:"#dcdcdc",textOnBgColorDisabledHighlight:"#ffffff",borderRadius:"2px",borderColor:"#d9d9d9",boxShadow:"0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05)"},v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v.apply(this,arguments)};function h(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function y(e,t,r,n){return new(r||(r=Promise))((function(o,a){function s(e){try{i(n.next(e))}catch(t){a(t)}}function c(e){try{i(n.throw(e))}catch(t){a(t)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}i((n=n.apply(e,t||[])).next())}))}function g(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(c){a=[6,c],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var b,S,C={exports:{}},w={exports:{}};b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&S.rotl(e,8)|4278255360&S.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=S.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var n=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?t.push(b.charAt(n>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,n=0;r<e.length;n=++r%4)0!=n&&t.push((b.indexOf(e.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|b.indexOf(e.charAt(r))>>>6-2*n);return t}},w.exports=S;var E={utf8:{stringToBytes:function(e){return E.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(E.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}},x=E,O=function(e){return null!=e&&(j(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&j(e.slice(0,0))}(e)||!!e._isBuffer)};function j(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}!function(){var e=w.exports,t=x.utf8,r=O,n=x.bin,o=function(a,s){a.constructor==String?a=s&&"binary"===s.encoding?n.stringToBytes(a):t.stringToBytes(a):r(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||a.constructor===Uint8Array||(a=a.toString());for(var c=e.bytesToWords(a),i=8*a.length,u=1732584193,l=-271733879,f=-1732584194,d=271733878,p=0;p<c.length;p++)c[p]=16711935&(c[p]<<8|c[p]>>>24)|4278255360&(c[p]<<24|c[p]>>>8);c[i>>>5]|=128<<i%32,c[14+(i+64>>>9<<4)]=i;var m=o._ff,v=o._gg,h=o._hh,y=o._ii;for(p=0;p<c.length;p+=16){var g=u,b=l,S=f,C=d;u=m(u,l,f,d,c[p+0],7,-680876936),d=m(d,u,l,f,c[p+1],12,-389564586),f=m(f,d,u,l,c[p+2],17,606105819),l=m(l,f,d,u,c[p+3],22,-1044525330),u=m(u,l,f,d,c[p+4],7,-176418897),d=m(d,u,l,f,c[p+5],12,1200080426),f=m(f,d,u,l,c[p+6],17,-1473231341),l=m(l,f,d,u,c[p+7],22,-45705983),u=m(u,l,f,d,c[p+8],7,1770035416),d=m(d,u,l,f,c[p+9],12,-1958414417),f=m(f,d,u,l,c[p+10],17,-42063),l=m(l,f,d,u,c[p+11],22,-1990404162),u=m(u,l,f,d,c[p+12],7,1804603682),d=m(d,u,l,f,c[p+13],12,-40341101),f=m(f,d,u,l,c[p+14],17,-1502002290),u=v(u,l=m(l,f,d,u,c[p+15],22,1236535329),f,d,c[p+1],5,-165796510),d=v(d,u,l,f,c[p+6],9,-1069501632),f=v(f,d,u,l,c[p+11],14,643717713),l=v(l,f,d,u,c[p+0],20,-373897302),u=v(u,l,f,d,c[p+5],5,-701558691),d=v(d,u,l,f,c[p+10],9,38016083),f=v(f,d,u,l,c[p+15],14,-660478335),l=v(l,f,d,u,c[p+4],20,-405537848),u=v(u,l,f,d,c[p+9],5,568446438),d=v(d,u,l,f,c[p+14],9,-1019803690),f=v(f,d,u,l,c[p+3],14,-187363961),l=v(l,f,d,u,c[p+8],20,1163531501),u=v(u,l,f,d,c[p+13],5,-1444681467),d=v(d,u,l,f,c[p+2],9,-51403784),f=v(f,d,u,l,c[p+7],14,1735328473),u=h(u,l=v(l,f,d,u,c[p+12],20,-1926607734),f,d,c[p+5],4,-378558),d=h(d,u,l,f,c[p+8],11,-2022574463),f=h(f,d,u,l,c[p+11],16,1839030562),l=h(l,f,d,u,c[p+14],23,-35309556),u=h(u,l,f,d,c[p+1],4,-1530992060),d=h(d,u,l,f,c[p+4],11,1272893353),f=h(f,d,u,l,c[p+7],16,-155497632),l=h(l,f,d,u,c[p+10],23,-1094730640),u=h(u,l,f,d,c[p+13],4,681279174),d=h(d,u,l,f,c[p+0],11,-358537222),f=h(f,d,u,l,c[p+3],16,-722521979),l=h(l,f,d,u,c[p+6],23,76029189),u=h(u,l,f,d,c[p+9],4,-640364487),d=h(d,u,l,f,c[p+12],11,-421815835),f=h(f,d,u,l,c[p+15],16,530742520),u=y(u,l=h(l,f,d,u,c[p+2],23,-995338651),f,d,c[p+0],6,-198630844),d=y(d,u,l,f,c[p+7],10,1126891415),f=y(f,d,u,l,c[p+14],15,-1416354905),l=y(l,f,d,u,c[p+5],21,-57434055),u=y(u,l,f,d,c[p+12],6,1700485571),d=y(d,u,l,f,c[p+3],10,-1894986606),f=y(f,d,u,l,c[p+10],15,-1051523),l=y(l,f,d,u,c[p+1],21,-2054922799),u=y(u,l,f,d,c[p+8],6,1873313359),d=y(d,u,l,f,c[p+15],10,-30611744),f=y(f,d,u,l,c[p+6],15,-1560198380),l=y(l,f,d,u,c[p+13],21,1309151649),u=y(u,l,f,d,c[p+4],6,-145523070),d=y(d,u,l,f,c[p+11],10,-1120210379),f=y(f,d,u,l,c[p+2],15,718787259),l=y(l,f,d,u,c[p+9],21,-343485551),u=u+g>>>0,l=l+b>>>0,f=f+S>>>0,d=d+C>>>0}return e.endian([u,l,f,d])};o._ff=function(e,t,r,n,o,a,s){var c=e+(t&r|~t&n)+(o>>>0)+s;return(c<<a|c>>>32-a)+t},o._gg=function(e,t,r,n,o,a,s){var c=e+(t&n|r&~n)+(o>>>0)+s;return(c<<a|c>>>32-a)+t},o._hh=function(e,t,r,n,o,a,s){var c=e+(t^r^n)+(o>>>0)+s;return(c<<a|c>>>32-a)+t},o._ii=function(e,t,r,n,o,a,s){var c=e+(r^(t|~n))+(o>>>0)+s;return(c<<a|c>>>32-a)+t},o._blocksize=16,o._digestsize=16,C.exports=function(t,r){if(null==t)throw new Error("Illegal argument "+t);var a=e.wordsToBytes(o(t,r));return r&&r.asBytes?a:r&&r.asString?n.bytesToString(a):e.bytesToHex(a)}}();var T=C.exports,k=sessionStorage;function A(e,t){return"".concat(e,"_").concat(JSON.stringify((null==t?void 0:t.params)||{}))}function B(e){return("GET"===(null==e?void 0:e.method)||!(null==e?void 0:e.method))&&(null==e?void 0:e.cache)&&(null==e?void 0:e.ttl)&&(null==e?void 0:e.ttl)>0}var _=function(e,t){if(B(t)){var r=function(e){var t=T(e),r=k.getItem(t);if(r){var n=JSON.parse(r);if(n.timestamp+1e3*n.ttl>Date.now())return n.value;k.removeItem(t)}return null}(A(e,t));if(r)return Promise.resolve({data:r})}else n=A(e,t),o=T(n),k.removeItem(o);var n,o;return u.default(v({url:e,withCredentials:!0,paramsSerializer:function(e){return l.default.stringify(e,{arrayFormat:"repeat",allowDots:!0})}},t)).then((function(r){return B(t)&&function(e,t,r){var n=T(e),o=JSON.stringify({timestamp:Date.now(),ttl:r,value:t});k.setItem(n,o)}(A(e,t),r.data,null==t?void 0:t.ttl),r}))},M=function(e){return e.theme},D=function(){return o.useSelector(M)},N=function(e){var t=e.djcGatewayBaseUrl,r=e.projectKey,n=e.themeKey,o=void 0===n?"default":n,a=e.cache,s=void 0===a||a,c=e.ttl,i=void 0===c?1800:c;return y(void 0,void 0,void 0,(function(){var e,n,a,c;return g(this,(function(u){switch(u.label){case 0:return e=r||"".concat(null===(a=window.top)||void 0===a?void 0:a.location.host).concat(null===(c=window.top)||void 0===c?void 0:c.location.pathname),[4,_("".concat(t,"/djcsupport/v1/portal-infos/portal-theme"),{params:{portalKey:e,themeKey:o},cache:s,ttl:i})];case 1:return(n=u.sent().data)&&n.themeSettings?[2,JSON.parse(n.themeSettings)]:[2]}}))}))},K=function(){var e=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10);return isNaN(e)&&(e=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10)),!!e};function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},n=Array.isArray(e)?e:[e],o=Array.apply(null,Array(n.length)).map((function(e){return null}));function a(e){var t="string"==typeof e,r=t&&"<"===e.trim().charAt(0);return t&&!r}function s(e,t){r.onError(e,n[t],t)}function c(e,t){var a=r.onSuccess(e,n[t],t);e=!1===a?"":a||e,o[t]=e,-1===o.indexOf(null)&&r.onComplete(o)}var i=document.createElement("a");n.forEach((function(e,t){if(i.setAttribute("href",e),i.href=String(i.href),Boolean(document.all&&!window.atob)&&i.host.split(":")[0]!==location.host.split(":")[0]){if(i.protocol===location.protocol){var n=new XDomainRequest;n.open("GET",e),n.timeout=0,n.onprogress=Function.prototype,n.ontimeout=Function.prototype,n.onload=function(){var e=n.responseText;a(e)?c(e,t):s(n,t)},n.onerror=function(e){s(n,t)},setTimeout((function(){n.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),s(null,t)}else{var o=new XMLHttpRequest;o.open("GET",e),r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.onBeforeSend(o,e,t),o.onreadystatechange=function(){if(4===o.readyState){var e=o.responseText;o.status<400&&a(e)||0===o.status&&a(e)?c(e,t):s(o,t)}},o.send()}}))}function R(e){var t=/\/\*[\s\S]+?\*\//g,r=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,n={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:!1!==e.skipDisabled,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},o=Array.apply(null,n.rootElement.querySelectorAll(n.include)).filter((function(e){return t=e,r=n.exclude,!(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,r);var t,r})),a=Array.apply(null,Array(o.length)).map((function(e){return null}));function s(){if(-1===a.indexOf(null)){a.reduce((function(e,t,r){return""===t&&e.push(r),e}),[]).reverse().forEach((function(e){return[o,a].forEach((function(t){return t.splice(e,1)}))}));var e=a.join("");n.onComplete(e,a,o)}}function c(e,t,r,o){var c=n.onSuccess(e,r,o);u(e=void 0!==c&&!1===Boolean(c)?"":c||e,r,o,(function(e,o){null===a[t]&&(o.forEach((function(e){return n.onError(e.xhr,r,e.url)})),!n.filter||n.filter.test(e)?a[t]=e:a[t]="",s())}))}function i(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={};return a.rules=(e.replace(t,"").match(r)||[]).filter((function(e){return-1===o.indexOf(e)})),a.urls=a.rules.map((function(e){return e.replace(r,"$1")})),a.absoluteUrls=a.urls.map((function(e){return U(e,n)})),a.absoluteRules=a.rules.map((function(e,t){var r=a.urls[t],o=U(a.absoluteUrls[t],n);return e.replace(r,o)})),a}function u(e,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=i(e,r,s);c.rules.length?F(c.absoluteUrls,{onBeforeSend:function(e,r,o){n.onBeforeSend(e,t,r)},onSuccess:function(e,r,o){var a=n.onSuccess(e,t,r),c=i(e=!1===a?"":a||e,r,s);return c.rules.forEach((function(t,r){e=e.replace(t,c.absoluteRules[r])})),e},onError:function(n,i,l){a.push({xhr:n,url:i}),s.push(c.rules[l]),u(e,t,r,o,a,s)},onComplete:function(n){n.forEach((function(t,r){e=e.replace(c.rules[r],t)})),u(e,t,r,o,a,s)}}):o(e,a)}o.length?o.forEach((function(e,t){var r=e.getAttribute("href"),o=e.getAttribute("rel"),i="link"===e.nodeName.toLowerCase()&&r&&o&&-1!==o.toLowerCase().indexOf("stylesheet"),u=!1!==n.skipDisabled&&e.disabled,l="style"===e.nodeName.toLowerCase();if(i&&!u)F(r,{mimeType:"text/css",onBeforeSend:function(t,r,o){n.onBeforeSend(t,e,r)},onSuccess:function(n,o,a){var s=U(r);c(n,t,e,s)},onError:function(r,o,c){a[t]="",n.onError(r,e,o),s()}});else if(l&&!u){var f=e.textContent;n.useCSSOM&&(f=Array.apply(null,e.sheet.cssRules).map((function(e){return e.cssText})).join("")),c(f,t,e,location.href)}else a[t]="",s()})):n.onComplete("",[])}function U(e,t){var r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),n.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,o.href=e,o.href}var V=P;function P(e,t,r){e instanceof RegExp&&(e=q(e,r)),t instanceof RegExp&&(t=q(t,r));var n=H(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function q(e,t){var r=t.match(e);return r?r[0]:null}function H(e,t,r){var n,o,a,s,c,i=r.indexOf(e),u=r.indexOf(t,i+1),l=i;if(i>=0&&u>0){if(e===t)return[i,u];for(n=[],a=r.length;l>=0&&!c;)l==i?(n.push(l),i=r.indexOf(e,l+1)):1==n.length?c=[n.pop(),u]:((o=n.pop())<a&&(a=o,s=u),u=r.indexOf(t,l+1)),l=i<u&&i>=0?i:u;n.length&&(c=[a,s])}return c}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={preserveStatic:!0,removeComments:!1},n=L({},r,t),o=[];function a(e){throw new Error("CSS parse error: ".concat(e))}function s(t){var r=t.exec(e);if(r)return e=e.slice(r[0].length),r}function c(){return s(/^{\s*/)}function i(){return s(/^}/)}function u(){s(/^\s*/)}function l(){if(u(),"/"===e[0]&&"*"===e[1]){for(var t=2;e[t]&&("*"!==e[t]||"/"!==e[t+1]);)t++;if(!e[t])return a("end of comment is missing");var r=e.slice(2,t);return e=e.slice(t+2),{type:"comment",comment:r}}}function f(){for(var e,t=[];e=l();)t.push(e);return n.removeComments?[]:t}function d(){for(u();"}"===e[0];)a("extra closing bracket");var t=s(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(t){var r,n=t[0].trim();/\/\*/.test(n)&&(n=n.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var o=/["']\w*,\w*["']/.test(n);return o&&(n=n.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")}))),r=/,/.test(n)?n.split(/\s*(?![^(]*\)),\s*/):[n],o&&(r=r.map((function(e){return e.replace(/\u200C/g,",")}))),r}}function p(){if("@"===e[0])return j();s(/^([;\s]*)+/);var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=s(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(r){if(r=r[0].trim(),!s(/^:\s*/))return a("property missing ':'");var n=s(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),o={type:"declaration",property:r.replace(t,""),value:n?n[0].replace(t,"").trim():""};return s(/^[;\s]*/),o}}function m(){if(!c())return a("missing '{'");for(var e,t=f();e=p();)t.push(e),t=t.concat(f());return i()?t:a("missing '}'")}function v(){u();for(var e,t=[];e=s(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),s(/^,\s*/);if(t.length)return{type:"keyframe",values:t,declarations:m()}}function h(){var e=s(/^@([-\w]+)?keyframes\s*/);if(e){var t=e[1];if(!(e=s(/^([-\w]+)\s*/)))return a("@keyframes missing name");var r,n=e[1];if(!c())return a("@keyframes missing '{'");for(var o=f();r=v();)o.push(r),o=o.concat(f());return i()?{type:"keyframes",name:n,vendor:t,keyframes:o}:a("@keyframes missing '}'")}}function y(){if(s(/^@page */))return{type:"page",selectors:d()||[],declarations:m()}}function g(){var e=s(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(e)return{type:"page-margin-box",name:"".concat(e[1],"-").concat(e[2])+(e[3]?"-".concat(e[3]):""),declarations:m()}}function b(){if(s(/^@font-face\s*/))return{type:"font-face",declarations:m()}}function S(){var e=s(/^@supports *([^{]+)/);if(e)return{type:"supports",supports:e[1].trim(),rules:k()}}function C(){if(s(/^@host\s*/))return{type:"host",rules:k()}}function w(){var e=s(/^@media([^{]+)*/);if(e)return{type:"media",media:(e[1]||"").trim(),rules:k()}}function E(){var e=s(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return{type:"custom-media",name:e[1].trim(),media:e[2].trim()}}function x(){var e=s(/^@([-\w]+)?document *([^{]+)/);if(e)return{type:"document",document:e[2].trim(),vendor:e[1]?e[1].trim():null,rules:k()}}function O(){var e=s(/^@(import|charset|namespace)\s*([^;]+);/);if(e)return{type:e[1],name:e[2].trim()}}function j(){if(u(),"@"===e[0]){var t=O()||b()||w()||h()||S()||x()||E()||C()||y()||g();if(t&&!n.preserveStatic){var r=!1;if(t.declarations)r=t.declarations.some((function(e){return/var\(/.test(e.value)}));else r=(t.keyframes||t.rules||[]).some((function(e){return(e.declarations||[]).some((function(e){return/var\(/.test(e.value)}))}));return r?t:{}}return t}}function T(){if(!n.preserveStatic){var t=V("{","}",e);if(t){var r=/:(?:root|host)(?![.:#(])/.test(t.pre)&&/--\S*\s*:/.test(t.body),o=/var\(/.test(t.body);if(!r&&!o)return e=e.slice(t.end+1),{}}}var s=d()||[],c=n.preserveStatic?m():m().filter((function(e){var t=s.some((function(e){return/:(?:root|host)(?![.:#(])/.test(e)}))&&/^--\S/.test(e.property),r=/var\(/.test(e.value);return t||r}));return s.length||a("selector missing"),{type:"rule",selectors:s,declarations:c}}function k(t){if(!t&&!c())return a("missing '{'");for(var r,n=f();e.length&&(t||"}"!==e[0])&&(r=j()||T());)r.type&&n.push(r),n=n.concat(f());return t||i()?n:a("missing '}'")}return{type:"stylesheet",stylesheet:{rules:k(!0),errors:o}}}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={parseHost:!1,store:{},onWarning:function(){}},n=L({},r,t),o=new RegExp(":".concat(n.parseHost?"host":"root","$"));return"string"==typeof e&&(e=I(e,n)),e.stylesheet.rules.forEach((function(e){"rule"===e.type&&e.selectors.some((function(e){return o.test(e)}))&&e.declarations.forEach((function(e,t){var r=e.property,o=e.value;r&&0===r.indexOf("--")&&(n.store[r]=o)}))})),n.store}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n={charset:function(e){return"@charset "+e.name+";"},comment:function(e){return 0===e.comment.indexOf("__CSSVARSPONYFILL")?"/*"+e.comment+"*/":""},"custom-media":function(e){return"@custom-media "+e.name+" "+e.media+";"},declaration:function(e){return e.property+":"+e.value+";"},document:function(e){return"@"+(e.vendor||"")+"document "+e.document+"{"+o(e.rules)+"}"},"font-face":function(e){return"@font-face{"+o(e.declarations)+"}"},host:function(e){return"@host{"+o(e.rules)+"}"},import:function(e){return"@import "+e.name+";"},keyframe:function(e){return e.values.join(",")+"{"+o(e.declarations)+"}"},keyframes:function(e){return"@"+(e.vendor||"")+"keyframes "+e.name+"{"+o(e.keyframes)+"}"},media:function(e){return"@media "+e.media+"{"+o(e.rules)+"}"},namespace:function(e){return"@namespace "+e.name+";"},page:function(e){return"@page "+(e.selectors.length?e.selectors.join(", "):"")+"{"+o(e.declarations)+"}"},"page-margin-box":function(e){return"@"+e.name+"{"+o(e.declarations)+"}"},rule:function(e){var t=e.declarations;if(t.length)return e.selectors.join(",")+"{"+o(t)+"}"},supports:function(e){return"@supports "+e.supports+"{"+o(e.rules)+"}"}};function o(e){for(var o="",a=0;a<e.length;a++){var s=e[a];r&&r(s);var c=n[s.type](s);c&&(o+=c,c.length&&s.selectors&&(o+=t))}return o}return o(e.stylesheet.rules)}function z(e,t){e.rules.forEach((function(r){r.rules?z(r,t):r.keyframes?r.keyframes.forEach((function(e){"keyframe"===e.type&&t(e.declarations,r)})):r.declarations&&t(r.declarations,e)}))}P.range=H;function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},n=L({},r,t);return"string"==typeof e&&(e=I(e,n)),z(e.stylesheet,(function(e,t){for(var r=0;r<e.length;r++){var o=e[r],a=o.type,s=o.property,c=o.value;if("declaration"===a)if(n.preserveVars||!s||0!==s.indexOf("--")){if(-1!==c.indexOf("var(")){var i=Q(c,n);i!==o.value&&(i=$(i),n.preserveVars?(e.splice(r,0,{type:a,property:s,value:i}),r++):o.value=i)}}else e.splice(r,1),r--}})),W(e)}function $(e){return(e.match(/calc\(([^)]+)\)/g)||[]).forEach((function(t){var r="calc".concat(t.split("calc").join(""));e=e.replace(t,r)})),e}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(-1===e.indexOf("var("))return e;var n=V("(",")",e);function o(e){var n=e.split(",")[0].replace(/[\s\n\t]/g,""),o=(e.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],a=Object.prototype.hasOwnProperty.call(t.variables,n)?String(t.variables[n]):void 0,s=a||(o?String(o):void 0),c=r||e;return a||t.onWarning('variable "'.concat(n,'" is undefined')),s&&"undefined"!==s&&s.length>0?Q(s,t,c):"var(".concat(c,")")}if(n){if("var"===n.pre.slice(-3)){var a=0===n.body.trim().length;return a?(t.onWarning("var() must contain a non-whitespace string"),e):n.pre.slice(0,-3)+o(n.body)+Q(n.post,t)}return n.pre+"(".concat(Q(n.body,t),")")+Q(n.post,t)}return-1!==e.indexOf("var(")&&t.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var X,Y="undefined"!=typeof window,Z=Y&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),ee={group:0,job:0},te={rootElement:Y?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},re={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},ne={dom:{},job:{},user:{}},oe=!1,ae=null,se=0,ce=null,ie=!1;function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="cssVars(): ",r=L({},te,e);function n(e,n,o,a){!r.silent&&window.console&&console.error("".concat(t).concat(e,"\n"),n),r.onError(e,n,o,a)}function o(e){!r.silent&&window.console&&console.warn("".concat(t).concat(e)),r.onWarning(e)}function a(e){r.onFinally(Boolean(e),Z,he()-r.__benchmark)}if(Y){if(r.watch)return r.watch=te.watch,le(r),void ue(r);if(!1===r.watch&&ae&&(ae.disconnect(),ae=null),!r.__benchmark){if(oe===r.rootElement)return void fe(e);var s=[].slice.call(r.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(r.__benchmark=he(),r.exclude=[ae?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",r.exclude].filter((function(e){return e})).join(","),r.variables=me(r.variables),s.forEach((function(e){var t="style"===e.nodeName.toLowerCase()&&e.__cssVars.text,r=t&&e.textContent!==e.__cssVars.text;t&&r&&(e.sheet&&(e.sheet.disabled=!1),e.setAttribute("data-cssvars",""))})),!ae){var c=[].slice.call(r.rootElement.querySelectorAll('[data-cssvars="out"]'));c.forEach((function(e){var t=e.getAttribute("data-cssvars-group");(t?r.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(t,'"]')):null)||e.parentNode.removeChild(e)})),se&&s.length<se&&(se=s.length,ne.dom={})}}if("loading"!==document.readyState)if(Z&&r.onlyLegacy){var i=!1;if(r.updateDOM){var u=r.rootElement.host||(r.rootElement===document?document.documentElement:r.rootElement);Object.keys(r.variables).forEach((function(e){var t=r.variables[e];i=i||t!==getComputedStyle(u).getPropertyValue(e),u.style.setProperty(e,t)}))}a(i)}else!ie&&(r.shadowDOM||r.rootElement.shadowRoot||r.rootElement.host)?R({rootElement:te.rootElement,include:te.include,exclude:r.exclude,skipDisabled:!1,onSuccess:function(e,t,r){return!((t.sheet||{}).disabled&&!t.__cssVars)&&((e=((e=e.replace(re.cssComments,"").replace(re.cssMediaQueries,"")).match(re.cssVarDeclRules)||[]).join(""))||!1)},onComplete:function(e,t,n){G(e,{store:ne.dom,onWarning:o}),ie=!0,ue(r)}}):(oe=r.rootElement,R({rootElement:r.rootElement,include:r.include,exclude:r.exclude,skipDisabled:!1,onBeforeSend:r.onBeforeSend,onError:function(e,t,r){var o=e.responseURL||ve(r,location.href),a=e.statusText?"(".concat(e.statusText,")"):"Unspecified Error"+(0===e.status?" (possibly CORS related)":"");n("CSS XHR Error: ".concat(o," ").concat(e.status," ").concat(a),t,e,o)},onSuccess:function(e,t,n){if((t.sheet||{}).disabled&&!t.__cssVars)return!1;var o="link"===t.nodeName.toLowerCase(),a="style"===t.nodeName.toLowerCase()&&e!==t.textContent,s=r.onSuccess(e,t,n);return e=void 0!==s&&!1===Boolean(s)?"":s||e,r.updateURLs&&(o||a)&&(e=pe(e,n)),e},onComplete:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=L({},ne.dom,ne.user);if(ne.job={},s.forEach((function(e,a){var s=t[a];if(e.__cssVars=e.__cssVars||{},e.__cssVars.text=s,re.cssVars.test(s))try{var c=I(s,{preserveStatic:r.preserveStatic,removeComments:!0});G(c,{parseHost:Boolean(r.rootElement.host),store:ne.dom,onWarning:o}),e.__cssVars.tree=c}catch(i){n(i.message,e)}})),L(ne.job,ne.dom),r.updateDOM?(L(ne.user,r.variables),L(ne.job,ne.user)):(L(ne.job,ne.user,r.variables),L(c,r.variables)),ee.job>0&&Boolean(Object.keys(ne.job).length>Object.keys(c).length||Boolean(Object.keys(c).length&&Object.keys(ne.job).some((function(e){return ne.job[e]!==c[e]})))))ye(r.rootElement),ue(r);else{var i=[],u=[],l=!1;if(r.updateDOM&&ee.job++,s.forEach((function(e,a){var s=!e.__cssVars.tree;if(e.__cssVars.tree)try{J(e.__cssVars.tree,L({},r,{variables:ne.job,onWarning:o}));var c=W(e.__cssVars.tree);if(r.updateDOM){var f=t[a],d=re.cssVarFunc.test(f);if(e.getAttribute("data-cssvars")||e.setAttribute("data-cssvars","src"),c.length&&d){var p=e.getAttribute("data-cssvars-group")||++ee.group,m=c.replace(/\s/g,""),v=r.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(p,'"]'))||document.createElement("style");l=l||re.cssKeyframes.test(c),r.preserveStatic&&e.sheet&&(e.sheet.disabled=!0),v.hasAttribute("data-cssvars")||v.setAttribute("data-cssvars","out"),m===e.textContent.replace(/\s/g,"")?(s=!0,v&&v.parentNode&&(e.removeAttribute("data-cssvars-group"),v.parentNode.removeChild(v))):m!==v.textContent.replace(/\s/g,"")&&([e,v].forEach((function(e){e.setAttribute("data-cssvars-job",ee.job),e.setAttribute("data-cssvars-group",p)})),v.textContent=c,i.push(c),u.push(v),v.parentNode||e.parentNode.insertBefore(v,e.nextSibling))}}else e.textContent.replace(/\s/g,"")!==c&&i.push(c)}catch(h){n(h.message,e)}s&&e.setAttribute("data-cssvars","skip"),e.hasAttribute("data-cssvars-job")||e.setAttribute("data-cssvars-job",ee.job)})),se=r.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,r.shadowDOM)for(var f,d=[].concat(r.rootElement).concat([].slice.call(r.rootElement.querySelectorAll("*"))),p=0;f=d[p];++p)if(f.shadowRoot&&f.shadowRoot.querySelector("style")){var m=L({},r,{rootElement:f.shadowRoot});ue(m)}r.updateDOM&&l&&de(r.rootElement),oe=!1,r.onComplete(i.join(""),u,JSON.parse(JSON.stringify(ne.job)),he()-r.__benchmark),a(u.length)}}}));else document.addEventListener("DOMContentLoaded",(function t(r){ue(e),document.removeEventListener("DOMContentLoaded",t)}))}}function le(e){function t(e){var t=r(e)&&e.hasAttribute("disabled"),n=(e.sheet||{}).disabled;return t||n}function r(e){return"link"===e.nodeName.toLowerCase()&&-1!==(e.getAttribute("rel")||"").indexOf("stylesheet")}function n(e){return"style"===e.nodeName.toLowerCase()}window.MutationObserver&&(ae&&(ae.disconnect(),ae=null),(ae=new MutationObserver((function(o){o.some((function(o){return function(n){var o=!1;if("attributes"===n.type&&r(n.target)&&!t(n.target)){var a="disabled"===n.attributeName,s="href"===n.attributeName,c="skip"===n.target.getAttribute("data-cssvars"),i="src"===n.target.getAttribute("data-cssvars");a?o=!c&&!i:s&&(c?n.target.setAttribute("data-cssvars",""):i&&ye(e.rootElement,!0),o=!0)}return o}(o)||function(e){var t=!1;if("childList"===e.type){var r=n(e.target),o="out"===e.target.getAttribute("data-cssvars");t=r&&!o}return t}(o)||function(e){var o=!1;return"childList"===e.type&&(o=[].slice.call(e.addedNodes).some((function(e){var o=1===e.nodeType&&e.hasAttribute("data-cssvars"),a=n(e)&&re.cssVars.test(e.textContent);return!o&&(r(e)||a)&&!t(e)}))),o}(o)||function(t){var r=!1;return"childList"===t.type&&(r=[].slice.call(t.removedNodes).some((function(t){var r=1===t.nodeType,n=r&&"out"===t.getAttribute("data-cssvars"),o=r&&"src"===t.getAttribute("data-cssvars"),a=o;if(o||n){var s=t.getAttribute("data-cssvars-group"),c=e.rootElement.querySelector('[data-cssvars-group="'.concat(s,'"]'));o&&ye(e.rootElement,!0),c&&c.parentNode.removeChild(c)}return a}))),r}(o)}))&&ue(e)}))).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(ce),ce=setTimeout((function(){e.__benchmark=null,ue(e)}),t)}function de(e){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter((function(e){return getComputedStyle(document.body)[e]}))[0];if(t){for(var r=e.getElementsByTagName("*"),n=[],o="__CSSVARSPONYFILL-KEYFRAMES__",a=0,s=r.length;a<s;a++){var c=r[a];"none"!==getComputedStyle(c)[t]&&(c.style[t]+=o,n.push(c))}document.body.offsetHeight;for(var i=0,u=n.length;i<u;i++){var l=n[i].style;l[t]=l[t].replace(o,"")}}}function pe(e,t){return(e.replace(re.cssComments,"").match(re.cssUrls)||[]).forEach((function(r){var n=r.replace(re.cssUrls,"$1"),o=ve(n,t);e=e.replace(r,r.replace(n,o))})),e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^-{2}/;return Object.keys(e).reduce((function(r,n){return r[t.test(n)?n:"--".concat(n.replace(/^-+/,""))]=e[n],r}),{})}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),n.href=t,o.href=e,o.href}function he(){return Y&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));r.forEach((function(e){return e.setAttribute("data-cssvars","")})),t&&(ne.dom={})}ue.reset=function(){for(var e in ee.job=0,ee.group=0,oe=!1,ae&&(ae.disconnect(),ae=null),se=0,ce=null,ie=!1,ne)ne[e]={}};var ge,be,Se=function(e){var t=function(e,t){if(!t)return[];var r=[],n=Object.keys(t),o=Object.keys(e);return n.forEach((function(e){o.includes(e)||r.push(e)})),r}(e,X),r=function(e){var t={};return e.forEach((function(e){t[e]=null})),t}(t);ue({variables:v(v({},e),r),watch:K()}),X=e},Ce=function(e){var t=e.children;return f.default.createElement(a.StyleSheetManager,{disableCSSOMInjection:K()},t)};(be=ge||(ge={}))[be.COMPONENT=1]="COMPONENT",be[be.CODE=2]="CODE";var we=ge;ge.COMPONENT,ge.CODE;var Ee=function(e){var t=e.djcGatewayBaseUrl,r=e.projectKey,o=e.templateKey,a=e.cache,s=e.ttl,c=n.useState(),i=c[0],u=c[1];return n.useEffect((function(){(function(e){var t=e.djcGatewayBaseUrl,r=e.projectKey,n=e.templateKey,o=e.cache,a=void 0===o||o,s=e.ttl,c=void 0===s?1800:s;return y(void 0,void 0,void 0,(function(){var e,o,s,i;return g(this,(function(u){switch(u.label){case 0:if(!t)throw new Error("djcGatewayBaseUrl Parameters are missing");return e=r||"".concat(null===(s=window.top)||void 0===s?void 0:s.location.host).concat(null===(i=window.top)||void 0===i?void 0:i.location.pathname),[4,_("".concat(t,"/djcsupport/v1/portal-infos/portal-template"),{params:{portalKey:e,templateKey:n},cache:a,ttl:c})];case 1:if((o=u.sent().data).templateType===we.COMPONENT)return[2,{name:o.componentName,props:o.componentProps?JSON.parse(o.componentProps):{}}];throw new Error("模板类型不是组件类型")}}))}))})({djcGatewayBaseUrl:t,projectKey:r,templateKey:o,cache:a,ttl:s}).then(u)}),[a,t,r,o,s]),i},xe=n.createContext({}),Oe=function(e){var t=n.useContext(xe),r=n.useMemo((function(){return v(v({},t),e)}),[t,e]),o=r.cloudComponent,a=h(r,["cloudComponent"]),s=Ee(a);return o||console.error("Template need props CloudComponent"),(null==s?void 0:s.name)&&o?f.default.createElement(Ce,null,f.default.createElement(o,v({name:s.name},s.props,{fallback:null==a?void 0:a.fallback}))):(null==a?void 0:a.fallback)?f.default.createElement(Ce,null,null==a?void 0:a.fallback):null},je=function(e){var t=e.children,r=e.stateContainer;return f.default.createElement(o.Provider,{store:r._store},t)},Te=new Set,ke=!1,Ae=function(e,t,r,n){void 0===e&&(e=f.default.createElement(f.default.Fragment,null)),void 0===n&&(n=!1),ke||setTimeout((function(){if(!ke){var e=d.default.element("body").scope(),t=e?e.$root:null;t&&(t.$on("$stateChangeStart",(function(){Te.forEach((function(e){p.default.unmountComponentAtNode(e)})),Te.clear()})),ke=!0)}}));var o="string"==typeof t?document.querySelector(t):t;p.default.render(f.default.createElement(je,{stateContainer:r},e),o),!n&&o&&Te.add(o)};e.IEDisableCSSOMInjection=Ce,e.Template=Oe,e.TemplateConfigProvider=function(e){var t=e.children,r=h(e,["children"]);return f.default.createElement(xe.Provider,{value:r},t)},e.Themeable=function(e){var t=e.theme,r=e.children,a=e.djcGatewayBaseUrl,s=e.projectKey,c=e.themeKey,i=e.renderAfterLoaded,u=void 0===i||i,l=function(e){var t=e.djcGatewayBaseUrl,r=e.projectKey,o=e.themeKey,a=e.cache,s=e.ttl,c=n.useState(),i=c[0],u=c[1],l=D();return n.useEffect((function(){top===self&&N({djcGatewayBaseUrl:t,projectKey:r,themeKey:o,cache:a,ttl:s}).then(u)}),[a,t,r,o,s]),top!==self?l:i}({djcGatewayBaseUrl:a,projectKey:s,themeKey:c,cache:e.cache,ttl:e.ttl}),d=o.useDispatch(),p=n.useState(!1),h=p[0],y=p[1],g=n.useMemo((function(){return v(v(v({},m),l),t)}),[l,t]);return n.useEffect((function(){top===self&&d({type:"@@THEME/SET",payload:g})}),[d,g]),n.useEffect((function(){l&&(Se(g),y(!0))}),[l,g]),u&&!h?null:f.default.createElement(Ce,null,r)},e.defaultTheme=m,e.templateDirective=function(e){return d.default.module("gmsoft.template",[]).directive("template",(function(){return{restrict:"EA",template:"<div></div>",scope:{fallback:"=?",cloudComponent:"=?",stateContainer:"=?",djcGatewayBaseUrl:"@?",projectKey:"@?",templateKey:"@"},replace:!0,link:function(t,r){var n=v(v({},e),t),o=n.fallback,a=n.cloudComponent,s=n.stateContainer,c=n.djcGatewayBaseUrl,i=n.projectKey,u=n.templateKey;Ae(f.default.createElement(Oe,{cloudComponent:a,fallback:o,djcGatewayBaseUrl:c,projectKey:i,templateKey:u}),r[0],s)}}})),"gmsoft.template"},e.templateProvider=function(e){var t=e.djcGatewayBaseUrl,r=e.projectKey,n=e.templateKey,o=e.cache,a=void 0===o||o,s=e.ttl,c=void 0===s?1800:s;return function(){return y(void 0,void 0,void 0,(function(){var e,o,s,i;return g(this,(function(u){switch(u.label){case 0:return e=r||"".concat(null===(s=window.top)||void 0===s?void 0:s.location.host).concat(null===(i=window.top)||void 0===i?void 0:i.location.pathname),[4,_("".concat(t,"/djcsupport/v1/portal-infos/portal-template"),{params:{portalKey:e,templateKey:n},cache:a,ttl:c})];case 1:if((o=u.sent().data).templateType===we.CODE)return[2,o.templateCode];throw new Error("模板类型不是模板代码!")}}))}))}},e.themeSelector=M,e.themeable=function(e){var t=e.theme,r=e.djcGatewayBaseUrl,n=e.projectKey,o=e.themeKey,a=e.dispatch,s=e.cache,c=e.ttl;return y(void 0,void 0,void 0,(function(){var e,i;return g(this,(function(u){switch(u.label){case 0:return[4,N({djcGatewayBaseUrl:r,projectKey:n,themeKey:o,cache:s,ttl:c})];case 1:return e=u.sent(),i=v(v(v({},m),e),t),Se(i),a({type:"@@THEME/SET",payload:i}),[2]}}))}))},e.useTheme=D,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
//# sourceMappingURL=tt-sdk.umd.js.map
