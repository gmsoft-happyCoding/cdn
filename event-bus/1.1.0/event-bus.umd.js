!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("antd")):"function"==typeof define&&define.amd?define(["antd"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).EventBus=n(e.antd)}(this,(function(e){"use strict";var n=function(){for(var e=[],n=0;arguments.length>n;n++)e[n]=arguments[n];return e},t=function(e,t,o){var i=this;void 0===o&&(o=n),this.run=function(){for(var e,n=[],t=0;arguments.length>t;t++)n[t]=arguments[t];i.fn.apply(i,n),i.next&&(e=i.next).run.apply(e,n)},this.prev=e,this.next=t,this.fn=o},o=function(){var e=this;this.insert=function(n){var o=new t(e.tail.prev,e.tail,n);return o.next.prev=o.prev.next=o,o},this.remove=function(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev)},this.head=new t,this.tail=new t(this.head),this.head.next=this.tail,this.reg={}},i=/[\s,]+/g,r=function(){var e=this;this.id=0,this.on=function(n,t){var r=e;n.split(i).forEach((function(n){var i=r.events[n]||(r.events[n]=new o),a=t._eev||(t._eev=++e.id);i.reg[a]||(i.reg[a]=i.insert(t))}))},this.off=function(n,t){t&&n.split(i).forEach((function(n){var o=e.events[n];if(o){var i=o.reg[t._eev];o.reg[t._eev]=void 0,o&&i&&o.remove(i)}}))},this.emit=function(n){for(var t,o=[],i=1;arguments.length>i;i++)o[i-1]=arguments[i];var r=e.events[n];r&&r.head&&(t=r.head).run.apply(t,o)},this.events={}},a=function(e,n){void 0===n&&(n=window.document);var t=n.createElement("script");return t.type="text/javascript",t.src=e,new Promise((function(e,o){t.readyState?t.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||e(null)}:t.onload=function(){return e(null)},t.onerror=function(){return o()},n.head.appendChild(t)}))};function s(){var e=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10);return isNaN(e)&&(e=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10)),e}function d(){return 10>s()&&document.styleSheets.length>20}function c(){var e,n,t;if(s()&&(null===(t=null===(n=null===(e=null===document||void 0===document?void 0:document.all)||void 0===e?void 0:e.factory)||void 0===n?void 0:n.printing)||void 0===t?void 0:t.Preview))try{document.all.factory.printing.Preview()}catch(e){window.print()}else window.print()}var l=function(e,n){var t,o;void 0===e&&(e=0),void 0===n&&(n=!0);var i="number"==typeof e?e:null!==(o=null===(t=document.querySelector(e))||void 0===t?void 0:t.offsetTop)&&void 0!==o?o:0;window.scrollTo({top:i,behavior:n?"smooth":void 0})};function u(e,n){return void 0===n?localStorage.remove(e):(localStorage.setItem(e,JSON.stringify(n)),n)}function f(e,n){var t=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(n){return e||void 0}}(localStorage.getItem(e));return void 0===t?n:t}function v(e){localStorage.removeItem(e)}function h(){localStorage.clear()}var g=Object.freeze({__proto__:null,set:u,get:f,remove:v,clear:h}),p=function(e,n){void 0===n&&(n="style"),"style"===n&&function(e,n){if(void 0===n&&(n=window.document),d())!function(e,n){var t,o=(null===(t=e.match(/\{[^{}]*\}/g))||void 0===t?void 0:t.length)||0;if(0!==o)for(var i,r=0;n.styleSheets.length>r;++r)if(!((i=n.styleSheets[r]).rules.length+o>3900||-1!==i.cssText.indexOf("@import")||i.disabled||i.readOnly||i.media&&0!==i.media.length))return n.styleSheets[r].cssText+=e,!0}(e,n);else{var t=n.getElementsByTagName("head")[0],o=n.createElement("style");t.appendChild(o);try{o.innerHTML=e}catch(n){try{o.innerText=e}catch(n){o.styleSheet.cssText=e}}}}(e,window.document),"link"===n&&function(e,n){void 0===n&&(n=window.document);var t=n.querySelector("head"),o=n.createElement("link");o.href=e,o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),t&&t.appendChild(o)}(e,window.document)},m=function(n){var t=new r;return n&&function(n){n.on("inject.css",p),n.on("inject.js",a),n.on("store.set",u.bind(g)),n.on("store.get",f.bind(g)),n.on("store.remove",v.bind(g)),n.on("store.clear",h.bind(g)),n.on("page.gotop",l),n.on("page.print",c),n.on("antd.Modal.info",e.Modal.info),n.on("antd.Modal.success",e.Modal.success),n.on("antd.Modal.error",e.Modal.error),n.on("antd.Modal.warning",e.Modal.warning),n.on("antd.Modal.confirm",e.Modal.confirm),n.on("antd.Modal.destroyAll",e.Modal.destroyAll),n.on("antd.message.info",e.message.info),n.on("antd.message.success",e.message.success),n.on("antd.message.error",e.message.error),n.on("antd.message.warning",e.message.warning),n.on("antd.message.loading",e.message.loading),n.on("antd.message.destroy",e.message.destroy),n.on("antd.notification.info",e.notification.info),n.on("antd.notification.success",e.notification.success),n.on("antd.notification.error",e.notification.error),n.on("antd.notification.warning",e.notification.warning),n.on("antd.notification.open",e.notification.open),n.on("antd.notification.close",e.notification.close),n.on("antd.notification.destroy",e.notification.destroy)}(t),t};return function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);try{if(e)return m(n);if(top.eventBus)return top.eventBus;var t=m(n);return top===self&&(top.eventBus=t),t}catch(e){return m(n)}}}));
//# sourceMappingURL=event-bus.umd.js.map
