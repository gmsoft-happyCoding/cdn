!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("antd"),require("react"),require("react-is")):"function"==typeof define&&define.amd?define(["antd","react","react-is"],e):(n="undefined"!=typeof globalThis?globalThis:n||self).EventBus=e(n.antd,n.React,n.ReactIs)}(this,(function(n,e,t){"use strict";function o(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}var r=o(e),i=function(){for(var n=[],e=0;arguments.length>e;e++)n[e]=arguments[e];return n},a=function(n,e,t){var o=this;void 0===t&&(t=i),this.run=function(){for(var n,e=[],t=0;arguments.length>t;t++)e[t]=arguments[t];o.fn.apply(o,e),o.next&&(n=o.next).run.apply(n,e)},this.prev=n,this.next=e,this.fn=t},c=function(){var n=this;this.insert=function(e){var t=new a(n.tail.prev,n.tail,e);return t.next.prev=t.prev.next=t,t},this.remove=function(n){n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev)},this.head=new a,this.tail=new a(this.head),this.head.next=this.tail,this.reg={}},s=/[\s,]+/g,d=function(){var n=this;this.id=0,this.on=function(e,t){var o=n;e.split(s).forEach((function(e){var r=o.events[e]||(o.events[e]=new c),i=t._eev||(t._eev=++n.id);r.reg[i]||(r.reg[i]=r.insert(t))}))},this.off=function(e,t){t&&e.split(s).forEach((function(e){var o=n.events[e];if(o){var r=o.reg[t._eev];o.reg[t._eev]=void 0,o&&r&&o.remove(r)}}))},this.emit=function(e){for(var t,o=[],r=1;arguments.length>r;r++)o[r-1]=arguments[r];var i=n.events[e];i&&i.head&&(t=i.head).run.apply(t,o)},this.events={}},l=function(){var n,e,t,o;try{return(null===(e=null===(n=null===window||void 0===window?void 0:window.top)||void 0===n?void 0:n.document.querySelector("#mount-root"))||void 0===e?void 0:e.shadowRoot)||(null===(t=null===window||void 0===window?void 0:window.top)||void 0===t?void 0:t.document.querySelector("#mount-root"))||(null===(o=null===window||void 0===window?void 0:window.top)||void 0===o?void 0:o.document.body)}catch(n){return document.body}};function u(n){return n&&n.parentNode?n.parentNode:l()}var f=function(e){return function(t,o,r){void 0===o&&(o=3),n.message.config({getContainer:l}),n.message[e](t,o,r)}},v={info:f("info"),success:f("success"),error:f("error"),warning:f("warning"),loading:f("loading"),config:n.message.config,destroy:n.message.destroy},g=function(){return(g=Object.assign||function(n){for(var e,t=1,o=arguments.length;o>t;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}).apply(this,arguments)};function p(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&0>e.indexOf(o)&&(t[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);o.length>r;r++)0>e.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t}var m=function(e){var t=e.children,o=e.getContainer,i=p(e,["children","getContainer"]);return!0!==i.visible?null:r.default.createElement(n.Modal,g({getContainer:o||l},i),r.default.createElement(n.ConfigProvider,{getPopupContainer:u},t))},h=function(e){return function(o){var i=o.content,a=p(o,["content","getContainer"]);return n.Modal[e](g(g({},a),{getContainer:l,content:i&&t.isElement(i)?r.default.cloneElement(i,{getPopupContainer:u}):i}))}};m.info=h("info"),m.success=h("success"),m.error=h("error"),m.warning=h("warning"),m.confirm=h("confirm"),m.destroyAll=n.Modal.destroyAll;var y=function(e){return function(t){n.notification[e](g({style:{wordBreak:"break-word"},getContainer:l},t))}},w={info:y("info"),success:y("success"),error:y("error"),warning:y("warning"),open:n.notification.open,close:n.notification.close,destroy:n.notification.destroy},b=function(n,e){void 0===e&&(e=window.document);var t=e.createElement("script");return t.type="text/javascript",t.src=n,new Promise((function(n,o){t.readyState?t.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||n(null)}:t.onload=function(){return n(null)},t.onerror=function(){return o()},e.head.appendChild(t)}))};function x(){var n=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10);return isNaN(n)&&(n=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10)),n}function S(){return 10>x()&&document.styleSheets.length>20}function O(){var n,e,t;if(x()&&(null===(t=null===(e=null===(n=null===document||void 0===document?void 0:document.all)||void 0===n?void 0:n.factory)||void 0===e?void 0:e.printing)||void 0===t?void 0:t.Preview))try{document.all.factory.printing.Preview()}catch(n){window.print()}else window.print()}var C=function(n,e){var t,o;void 0===n&&(n=0),void 0===e&&(e=!0);var r="number"==typeof n?n:null!==(o=null===(t=document.querySelector(n))||void 0===t?void 0:t.offsetTop)&&void 0!==o?o:0;window.scrollTo({top:r,behavior:e?"smooth":void 0})};function j(n,e){return void 0===e?localStorage.remove(n):(localStorage.setItem(n,JSON.stringify(e)),e)}function E(n,e){var t=function(n){if("string"==typeof n)try{return JSON.parse(n)}catch(e){return n||void 0}}(localStorage.getItem(n));return void 0===t?e:t}function T(n){localStorage.removeItem(n)}function M(){localStorage.clear()}var P=Object.freeze({__proto__:null,set:j,get:E,remove:T,clear:M}),_=function(n,e){void 0===e&&(e="info"),v[e](n)},A=function(){};function I(n){switch(n){default:case"info":return"提示";case"error":return"错误";case"warning":return"警告";case"success":return"成功";case"confirm":return"请确认"}}var q=function(n){return function(e,t,o,i){var a="alert"===n?"info":n,c={title:o||I(a),content:r.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}}),okText:"确定",cancelText:"取消",onOk:t||A,onCancel:i||A};m[a](c)}},N=function(){v.destroy(),m.destroyAll()},k=q("alert"),B=q("error"),L=q("warning"),R=q("success"),H=q("confirm"),J=function(n,e){void 0===e&&(e="style"),"style"===e&&function(n,e){if(void 0===e&&(e=window.document),S())!function(n,e){var t,o=(null===(t=n.match(/\{[^{}]*\}/g))||void 0===t?void 0:t.length)||0;if(0!==o)for(var r,i=0;e.styleSheets.length>i;++i)if(!((r=e.styleSheets[i]).rules.length+o>3900||-1!==r.cssText.indexOf("@import")||r.disabled||r.readOnly||r.media&&0!==r.media.length))return e.styleSheets[i].cssText+=n,!0}(n,e);else{var t=e.getElementsByTagName("head")[0],o=e.createElement("style");t.appendChild(o);try{o.innerHTML=n}catch(e){try{o.innerText=n}catch(e){o.styleSheet.cssText=n}}}}(n,window.document),"link"===e&&function(n,e){void 0===e&&(e=window.document);var t=e.querySelector("head"),o=e.createElement("link");o.href=n,o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),t&&t.appendChild(o)}(n,window.document)},z=function(n){var e=new d;return n&&function(n){n.on("inject.css",J),n.on("inject.js",b),n.on("store.set",j.bind(P)),n.on("store.get",E.bind(P)),n.on("store.remove",T.bind(P)),n.on("store.clear",M.bind(P)),n.on("page.gotop",C),n.on("page.print",O),n.on("antd.Modal.info",m.info),n.on("antd.Modal.success",m.success),n.on("antd.Modal.error",m.error),n.on("antd.Modal.warning",m.warning),n.on("antd.Modal.confirm",m.confirm),n.on("antd.Modal.destroyAll",m.destroyAll),n.on("antd.message.info",v.info),n.on("antd.message.success",v.success),n.on("antd.message.error",v.error),n.on("antd.message.warning",v.warning),n.on("antd.message.loading",v.loading),n.on("antd.message.destroy",v.destroy),n.on("antd.notification.info",w.info),n.on("antd.notification.success",w.success),n.on("antd.notification.error",w.error),n.on("antd.notification.warning",w.warning),n.on("antd.notification.open",w.open),n.on("antd.notification.close",w.close),n.on("antd.notification.destroy",w.destroy),n.on("modal.alert",k),n.on("modal.error",B),n.on("modal.warning",L),n.on("modal.success",R),n.on("modal.confirm",H),n.on("modal.toast",_),n.on("modal.close",N)}(e),top===self&&(top.eventBus=e),e};return function(n,e){void 0===n&&(n=!1),void 0===e&&(e=!0);try{return n?z(e):top.eventBus?top.eventBus:z(e)}catch(n){return z(e)}}}));
//# sourceMappingURL=event-bus.umd.js.map
